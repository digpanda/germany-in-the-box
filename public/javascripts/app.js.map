{"version":3,"sources":["app/javascripts/controllers/admin/links/index.js","app/javascripts/controllers/admin/shops/package_sets.js","app/javascripts/controllers/admin/shops/products.js","app/javascripts/controllers/admin/shops/products/skus.js","app/javascripts/controllers/admin/shops/products/variants.js","app/javascripts/controllers/customer/cart/show.js","app/javascripts/controllers/customer/checkout/gateway.js","app/javascripts/controllers/customer/checkout/payment_method.js","app/javascripts/controllers/customer/orders/addresses.js","app/javascripts/controllers/customer/orders/show.js","app/javascripts/controllers/customer/referrer/links/share.js","app/javascripts/controllers/customer/referrer/provision.js","app/javascripts/controllers/guest/feedback.js","app/javascripts/controllers/guest/package_sets.js","app/javascripts/controllers/guest/products/show.js","app/javascripts/controllers/shopkeeper/products/skus.js","app/javascripts/controllers/shopkeeper/products/skus/index.js","app/javascripts/controllers/shopkeeper/products/variants.js","app/javascripts/initialize.js","app/javascripts/lib/casing.js","app/javascripts/lib/content_preloader.js","app/javascripts/lib/foreign/datepicker-de.js","app/javascripts/lib/foreign/datepicker-zh-CN.js","app/javascripts/lib/messages.js","app/javascripts/lib/post_form.js","app/javascripts/lib/preloader.js","app/javascripts/lib/skus.js","app/javascripts/lib/translation.js","app/javascripts/lib/url_process.js","app/javascripts/lib/variants.js","app/javascripts/models.js","app/javascripts/models/cart.js","app/javascripts/models/chart.js","app/javascripts/models/duty_category.js","app/javascripts/models/link.js","app/javascripts/models/navigation_model.js","app/javascripts/models/order.js","app/javascripts/models/order_item.js","app/javascripts/models/order_payment.js","app/javascripts/models/product.js","app/javascripts/models/product_sku.js","app/javascripts/models/translation.js","app/javascripts/services/refresh_total_products.js","app/javascripts/starters.js","app/javascripts/starters/anti_cache.js","app/javascripts/starters/auto_resize.js","app/javascripts/starters/back_to_top.js","app/javascripts/starters/bootstrap.js","app/javascripts/starters/charts.js","app/javascripts/starters/datepicker.js","app/javascripts/starters/distpicker.js","app/javascripts/starters/editable_fields.js","app/javascripts/starters/footer.js","app/javascripts/starters/images_handler.js","app/javascripts/starters/input_validation.js","app/javascripts/starters/lazy_loader.js","app/javascripts/starters/left_menu.js","app/javascripts/starters/links_behaviour.js","app/javascripts/starters/messages.js","app/javascripts/starters/mobile.js","app/javascripts/starters/mobile_menu.js","app/javascripts/starters/navigation.js","app/javascripts/starters/product_favorite.js","app/javascripts/starters/product_form.js","app/javascripts/starters/products_list.js","app/javascripts/starters/qrcode.js","app/javascripts/starters/refresh_time.js","app/javascripts/starters/responsive.js","app/javascripts/starters/search.js","app/javascripts/starters/sku_form.js","app/javascripts/starters/sweet_alert.js","app/javascripts/starters/table_clicker.js","app/javascripts/starters/tooltipster.js","app/javascripts/starters/total_products.js","app/javascripts/starters/weixin.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1VA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzVA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlGA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvGA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApKA;AAAA","file":"../public/javascripts/app.js","sourcesContent":["'use strict';\n\n/**\n* LinksIndex Class\n*/\nvar LinksIndex = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.handleWechatUrl();\n  },\n\n  handleWechatUrl: function handleWechatUrl() {\n    $('#wechat-url-adjuster').on('keyup', function (e) {\n      var rawUrl = $(this).val();\n      LinksIndex.getWechatUrl(rawUrl);\n    });\n  },\n\n  getWechatUrl: function getWechatUrl(url) {\n\n    var Link = require(\"javascripts/models/link\");\n    Link.wechat(url, function (res) {\n\n      if (res.success == true) {\n        var endUrl = res.data.adjusted_url;\n        $('#wechat-url-adjuster-result').val(endUrl);\n      }\n    });\n  }\n\n};\n\nmodule.exports = LinksIndex;\n","'use strict';\n\n/**\n* PackageSets Class\n*/\nvar PackageSets = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.handleSelect();\n  },\n\n  handleSelect: function handleSelect() {\n\n    $(document).ready(function () {\n      $('select[name*=\"[product_id]\"]').each(function (el) {\n        PackageSets.refreshSku(this);\n      });\n    });\n\n    $('select[name*=\"[product_id]\"]').on('change', function (el) {\n      PackageSets.refreshSku(this);\n    });\n  },\n\n  refreshSku: function refreshSku(self) {\n\n    var productSelector = $(self);\n    var ProductSku = require(\"javascripts/models/product_sku\");\n    var productId = productSelector.val();\n\n    if (_.isEmpty(productId)) {\n      return false;\n    }\n\n    ProductSku.all(productId, function (res) {\n\n      if (res.success == true) {\n\n        var skuSelector = productSelector.parent().parent().find('select[name*=\"[sku_id]\"]');\n        var possibleSkuId = productSelector.parent().parent().find('.js-sku-id');\n\n        skuSelector.html('<option value=\"\">-</option>');\n\n        res.skus.forEach(function (sku) {\n\n          skuSelector.append(\"<option value=\\\"\" + sku.id + \"\\\">\" + sku.option_names + \"</option>\");\n\n          // If we are editing we should setup the pre-selected sku id\n          var nearSkuId = possibleSkuId.data().skuId;\n          skuSelector.val(nearSkuId);\n        });\n      }\n    });\n  }\n\n};\n\nmodule.exports = PackageSets;\n","'use strict';\n\n/**\n * Products Class\n */\nvar Products = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.handleDutyCategoryChange();\n  },\n\n  /**\n   * We check if the duty category exists through AJAX\n   * and throw it / an error on the display\n   * @return {void}\n   */\n  handleDutyCategoryChange: function handleDutyCategoryChange() {\n\n    Products.refreshDutyCategory('#duty-category');\n\n    $('#duty-category').on('keyup', function (e) {\n\n      Products.refreshDutyCategory(this);\n    });\n  },\n\n  refreshDutyCategory: function refreshDutyCategory(selector) {\n\n    var DutyCategory = require(\"javascripts/models/duty_category\");\n    var dutyCategoryId = $(selector).val();\n\n    if (dutyCategoryId === '' || typeof dutyCategoryId == \"undefined\") {\n      return;\n    }\n\n    DutyCategory.find(dutyCategoryId, function (res) {\n\n      if (res.success) {\n        Products.showDutyCategory(res.datas.duty_category);\n      } else {\n        Products.throwNotFoundDutyCategory();\n      }\n    });\n  },\n\n  showDutyCategory: function showDutyCategory(duty_category) {\n\n    $('.js-duty-category').html('<span class=\"+blue\">' + duty_category.name + '</span>');\n  },\n\n  throwNotFoundDutyCategory: function throwNotFoundDutyCategory() {\n\n    $('.js-duty-category').html('<span class=\"+red\">Duty Category not found</span>');\n  }\n\n};\n\nmodule.exports = Products;\n","\"use strict\";\n\n/**\n * ProductsSkus Class\n */\nvar ProductsSkus = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    /**\n     * Since the system is cloned on the admin we try\n     * to limit the code duplication by abstracting into a library\n     */\n    var Skus = require(\"javascripts/lib/skus\");\n    Skus.setup();\n  }\n\n};\n\nmodule.exports = ProductsSkus;\n","\"use strict\";\n\n/**\n * ProductsVariants Class\n */\nvar ProductsVariants = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    /**\n     * Since the system is cloned on the admin we try\n     * to limit the code duplication by abstracting into a library\n     */\n    var Variants = require(\"javascripts/lib/variants\");\n    Variants.setup();\n  }\n\n};\n\nmodule.exports = ProductsVariants;\n","'use strict';\n\nvar RefreshTotalProducts = require('javascripts/services/refresh_total_products');\nvar Messages = require(\"javascripts/lib/messages\");\n\n/**\n * Cart class\n */\nvar Cart = {\n\n  clickChain: 0, // init click chain system\n  chainTiming: 500, // in ms\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.orderItemHandleQuantity();\n    this.removeOrderItem();\n    this.removePackageSet();\n    this.handleCouponAutoApply();\n  },\n\n  handleCouponAutoApply: function handleCouponAutoApply() {\n    var original_href = $('#checkout-button').attr('href');\n    $('#coupon_code').on('keyup', function (e) {\n      var target = e.currentTarget;\n      var coupon = target.value;\n      var new_href = original_href + \"?coupon=\" + coupon;\n      $('#checkout-button').attr('href', new_href);\n    });\n  },\n\n  getItemData: function getItemData(el) {\n    return {\n      orderId: $(el).data('orderId'),\n      orderItemId: $(el).data('orderItemId'),\n      orderShopId: $(el).data('orderShopId'),\n      originQuantity: parseInt($('#order-item-quantity-' + $(el).data('orderItemId')).html()),\n      originTotal: $('#order-item-total-' + $(el).data('orderItemId')).attr('data-origin')\n    };\n  },\n\n  getSelectors: function getSelectors(itemData) {\n    return {\n      item: $('#order-item-' + itemData.orderItemId),\n      order: $('#order-' + itemData.orderId)\n    };\n  },\n\n  removeItem: function removeItem(e) {\n    e.preventDefault();\n\n    var OrderItem = require(\"javascripts/models/order_item\");\n    var itemData = Cart.getItemData(this);\n\n    OrderItem.removeProduct(itemData.orderItemId, function (res) {\n\n      var selectors = Cart.getSelectors(itemData);\n\n      if (res.success === true) {\n\n        selectors.item.remove();\n\n        // If the order itself is empty\n        // We remove it as well\n        if (res.order_empty == true) {\n          selectors.order.remove();\n        }\n\n        RefreshTotalProducts.perform();\n        Cart.resetTotalDisplay(itemData.orderShopId, res);\n      } else {\n\n        Messages.makeError(res.error);\n      }\n    });\n  },\n\n  increaseQuantity: function increaseQuantity(e) {\n    e.preventDefault();\n    var itemData = Cart.getItemData(this);\n    var currentQuantity = itemData.originQuantity + 1;\n    Cart.clickChain++;\n    Cart.orderItemSetQuantity(itemData, currentQuantity);\n  },\n\n  decreaseQuantity: function decreaseQuantity(e) {\n    e.preventDefault();\n    var itemData = Cart.getItemData(this);\n    var currentQuantity = itemData.originQuantity;\n    if (itemData.originQuantity > 1) {\n      currentQuantity--;\n    }\n    if (itemData.originQuantity != currentQuantity) {\n      Cart.clickChain++;\n      Cart.orderItemSetQuantity(itemData, currentQuantity);\n    }\n  },\n\n  orderItemHandleQuantity: function orderItemHandleQuantity() {\n\n    $('.js-set-quantity-minus').on('click', Cart.decreaseQuantity);\n    $('.js-set-quantity-plus').on('click', Cart.increaseQuantity);\n\n    $('.js-set-package-quantity-minus').click(function (e) {\n\n      e.preventDefault();\n      Cart.clickChain++;\n\n      var packageSetId = $(this).data('package-set-id');\n      var currentQuantity = $('#package-quantity-' + packageSetId).html();\n      var currentTotal = $('#package-total-' + packageSetId).attr('data-origin');\n      var orderShopId = $(this).data('order-shop-id');\n      var originQuantity = currentQuantity;\n      var originTotal = currentTotal;\n\n      if (currentQuantity > 1) {\n        currentQuantity--;\n      }\n\n      if (originQuantity != currentQuantity) {\n        Cart.clickChain++;\n        Cart.packageSetSetQuantity(packageSetId, originQuantity, originTotal, currentQuantity, orderShopId);\n      }\n    });\n\n    $('.js-set-package-quantity-plus').click(function (e) {\n\n      e.preventDefault();\n      Cart.clickChain++;\n\n      var packageSetId = $(this).data('package-set-id');\n      var currentQuantity = $('#package-quantity-' + packageSetId).html();\n      var currentTotal = $('#package-total-' + packageSetId).attr('data-origin');\n      var orderShopId = $(this).data('order-shop-id');\n      var originQuantity = currentQuantity;\n      var originTotal = currentTotal;\n\n      currentQuantity++;\n      Cart.packageSetSetQuantity(packageSetId, originQuantity, originTotal, currentQuantity, orderShopId);\n    });\n  },\n\n  setItemLoading: function setItemLoading(itemData, currentQuantity) {\n    // We first setup a temporary number before the AJAX callback\n    $('#order-item-quantity-' + itemData.orderItemId).html(currentQuantity);\n    $('#order-item-total-' + itemData.orderItemId).html('-');\n  },\n\n  orderItemSetQuantity: function orderItemSetQuantity(itemData, currentQuantity) {\n\n    Cart.setItemLoading(itemData, currentQuantity);\n    var currentClickChain = Cart.clickChain;\n\n    setTimeout(function () {\n      // We basically prevent multiple click by considering only the last click as effective\n      // It won't call the API if we clicked more than once on the + / - within the second\n      if (currentClickChain == Cart.clickChain) {\n        Cart.processQuantity(itemData, currentQuantity);\n      }\n    }, Cart.chainTiming);\n  },\n\n  packageSetSetQuantity: function packageSetSetQuantity(packageSetId, originQuantity, originTotal, packageSetQuantity, orderShopId) {\n\n    // We first setup a temporary number before the AJAX callback\n    $('#package-quantity-' + packageSetId).html(packageSetQuantity);\n    $('#package-total-' + packageSetId).html('-');\n\n    var currentClickChain = Cart.clickChain;\n\n    setTimeout(function () {\n\n      // We basically prevent multiple click by considering only the last click as effective\n      // It won't call the API if we clicked more than once on the + / - within the second\n      if (currentClickChain == Cart.clickChain) {\n        Cart.processPackageSetQuantity(packageSetId, originQuantity, originTotal, packageSetQuantity, orderShopId);\n      }\n    }, Cart.chainTiming);\n  },\n\n  removeOrderItem: function removeOrderItem() {\n\n    $('.delete-order-item').on('click', Cart.removeItem);\n  },\n\n  removePackageSet: function removePackageSet() {\n\n    $('.delete-package-set').on('click', function (e) {\n\n      e.preventDefault();\n\n      // CartModel named this way because of collision because not well abstracted\n      // we should keep refactor this shit.\n      var CartModel = require(\"javascripts/models/cart\");\n      var orderId = $(this).data('order-id');\n      var packageSetId = $(this).data('package-set-id');\n      var orderShopId = $(this).data('order-shop-id');\n\n      CartModel.removePackageSet(packageSetId, orderId, function (res) {\n\n        if (res.success === true) {\n\n          $('#package-set-' + packageSetId).remove();\n\n          if (res.order_empty == true) {\n            $('#order-' + orderId).remove();\n          }\n\n          RefreshTotalProducts.perform();\n          Cart.resetTotalDisplay(orderShopId, res);\n        } else {\n\n          Messages.makeError(res.error);\n        }\n      });\n    });\n  },\n\n  processQuantity: function processQuantity(itemData, currentQuantity) {\n\n    var OrderItem = require(\"javascripts/models/order_item\");\n    OrderItem.setQuantity(itemData.orderItemId, currentQuantity, function (res) {\n\n      if (res.success === false) {\n\n        Cart.rollbackQuantity(itemData.originQuantity, itemData.originTotal, itemData.orderItemId, res);\n        Messages.makeError(res.error);\n      } else {\n\n        // We first refresh the value in the HTML\n        Cart.resetHeaderCartQuantity();\n        Cart.resetDisplay(currentQuantity, itemData.orderItemId, itemData.orderShopId, res);\n\n        var refreshTotalProducts = require('javascripts/services/refresh_total_products');\n        refreshTotalProducts.perform();\n      }\n    });\n  },\n\n  processPackageSetQuantity: function processPackageSetQuantity(packageSetId, originQuantity, originTotal, packageSetQuantity, orderShopId) {\n\n    var OrderItem = require(\"javascripts/models/order_item\");\n    OrderItem.setPackageSetQuantity(packageSetId, packageSetQuantity, function (res) {\n\n      if (res.success === false) {\n\n        Cart.rollbackPackageSetQuantity(originQuantity, originTotal, packageSetId, res);\n        Messages.makeError(res.error);\n      } else {\n\n        // We first refresh the value in the HTML\n        Cart.resetPackageDisplay(packageSetQuantity, packageSetId, orderShopId, res);\n\n        var refreshTotalProducts = require('javascripts/services/refresh_total_products');\n        refreshTotalProducts.perform();\n      }\n    });\n  },\n\n  resetHeaderCartQuantity: function resetHeaderCartQuantity() {\n\n    /**\n     * NOTE : This system was cancelled because we don't show\n     * the number of product within the cart\n     * - Laurent, 23/01/2017\n     */\n    // var total = 0;\n    //\n    // $('[id^=\"order-item-quantity-\"]').each(function(e) {\n    //   total += parseInt($(this).val());\n    //   $('#total-products').html(total);\n    // })\n\n  },\n\n  rollbackQuantity: function rollbackQuantity(originQuantity, originTotal, orderItemId, res) {\n\n    // TODO : possible improvement\n    // instead of rolling back completely we could make a system\n    // to try again with different quantity\n\n    // We try to get back the correct value from AJAX if we can\n    // To avoid the system to show a wrong quantity on the display\n    if (typeof res.original_quantity != \"undefined\" && typeof res.original_total != \"undefined\") {\n      originQuantity = res.original_quantity;\n      originTotal = res.original_total;\n    }\n\n    // We rollback the quantity\n    $('#order-item-quantity-' + orderItemId).html(originQuantity);\n    $('#order-item-total-' + orderItemId).html(originTotal);\n  },\n\n  rollbackPackageSetQuantity: function rollbackPackageSetQuantity(originQuantity, originTotal, packageSetId, res) {\n\n    if (typeof res.original_quantity != \"undefined\" && typeof res.original_total != \"undefined\") {\n      originQuantity = res.original_quantity;\n      originTotal = res.original_total;\n    }\n\n    // We rollback the quantity\n    $('#package-quantity-' + packageSetId).html(originQuantity);\n    $('#package-total-' + packageSetId).html(originTotal);\n  },\n\n  resetDisplay: function resetDisplay(orderItemQuantity, orderItemId, orderShopId, res) {\n\n    // Quantity changes\n    $('#order-item-quantity-' + orderItemId).html(orderItemQuantity);\n    $('#order-item-total-' + orderItemId).html(res.data.order_item.total_price_with_taxes);\n    $('#order-item-total-' + orderItemId).attr('data-origin', res.data.order_item.total_price_with_taxes);\n\n    Cart.resetTotalDisplay(orderShopId, res);\n  },\n\n  resetPackageDisplay: function resetPackageDisplay(packageSetQuantity, packageSetId, orderShopId, res) {\n\n    // Quantity changes\n    $('#package-quantity-' + packageSetId).html(packageSetQuantity);\n    $('#package-total-' + packageSetId).html(res.data.package_set.total_price);\n    $('#package-total-' + packageSetId).attr('data-origin', res.data.package_set.total_price);\n\n    Cart.resetTotalDisplay(orderShopId, res);\n  },\n\n  resetTotalDisplay: function resetTotalDisplay(orderShopId, res) {\n\n    // Total changes\n    $('#order-total-price-with-taxes-' + orderShopId).html(res.data.total_price_with_taxes);\n    $('#order-shipping-cost-' + orderShopId).html(res.data.shipping_cost);\n    $('#order-end-price-' + orderShopId).html(res.data.end_price);\n\n    // Discount management\n    if (typeof res.data.total_price_with_discount != \"undefined\") {\n      $('#order-total-price-with-extra-costs-' + orderShopId).html(res.data.total_price_with_extra_costs);\n      $('#order-total-price-with-discount-' + orderShopId).html(res.data.total_price_with_discount);\n      $('#order-discount-display-' + orderShopId).html(res.data.discount_display);\n    }\n  }\n\n};\n\nmodule.exports = Cart;\n","\"use strict\";\n\n/**\n * CustomerGatewayCreate class\n */\nvar CustomerGatewayCreate = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.postBankDetails();\n\n    // We will check the order payment every once in a while\n    setInterval(this.orderPaymentLiveRefresh, 3000);\n  },\n\n  /**\n   * We refresh the page according to the order payment status\n   */\n  orderPaymentLiveRefresh: function orderPaymentLiveRefresh() {\n\n    // If it's Wechatpay from Desktop and it needs auto refresh\n    if ($(\"#order-payment-live-refresh\").length > 0) {\n\n      var OrderPayment = require(\"javascripts/models/order_payment\");\n      var orderPaymentId = $('#order-payment-live-refresh').data('order-payment-id');\n\n      OrderPayment.show(orderPaymentId, function (res) {\n\n        if (res.success === true) {\n\n          // We can check the order payment status\n          switch (res.order_payment.status) {\n            case \"scheduled\":\n              break;\n            case \"unverified\":\n              // Unverified means an action has been done but is awaiting approval; it's like a success.\n              window.location.href = $(\"#order-payment-callback-url\").data('success');\n              break;\n            case 'success':\n              window.location.href = $(\"#order-payment-callback-url\").data('success');\n              break;\n            case \"failed\":\n              window.location.href = $(\"#order-payment-callback-url\").data(\"fail\");\n              break;\n            default:\n              break;\n          }\n        } else {\n\n          Messages.makeError(res.error);\n        }\n      });\n    }\n  },\n\n  /**\n   * Post bank details to the `form_url`\n   */\n  postBankDetails: function postBankDetails() {\n\n    // If it's Wirecard\n    if ($(\"#bank-details\").length > 0) {\n\n      var Casing = require(\"javascripts/lib/casing\");\n      var PostForm = require(\"javascripts/lib/post_form.js\");\n\n      var bankDetails = $(\"#bank-details\")[0].dataset;\n      var parsedBankDetails = Casing.objectToUnderscoreCase(bankDetails);\n\n      PostForm.send(parsedBankDetails, parsedBankDetails['form_url']);\n    }\n  }\n\n};\n\nmodule.exports = CustomerGatewayCreate;\n","\"use strict\";\n\n/**\n * CustomerCheckoutPaymentMethod class\n */\nvar CustomerCheckoutPaymentMethod = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.handleMethodSelection();\n    this.handleSpecialInstructions();\n    var CustomerCartShow = require(\"javascripts/controllers/customer/cart/show\");\n  },\n\n  handleSpecialInstructions: function handleSpecialInstructions() {\n\n    var Order = require(\"javascripts/models/order\");\n\n    $('#special_instructions').on('keyup', function (e) {\n\n      var orderId = $(this).data('orderId');\n      var params = { 'special_instructions': $(this).val() };\n      Order.update(orderId, params, function (res) {\n        // nothing\n      });\n    });\n  },\n\n  /**\n   * Will process after someone click to go through the payment gateway (blank page)\n   */\n  handleMethodSelection: function handleMethodSelection() {\n\n    $('#payment_method_area').find('a').click(function (e) {\n\n      $('#payment_method_area').hide();\n      $('#after_payment_method_area').removeClass('+hidden');\n    });\n  }\n\n};\n\nmodule.exports = CustomerCheckoutPaymentMethod;\n","'use strict';\n\n/**\n * OrdersAddresses class\n */\nvar OrdersAddresses = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.newAddressForm();\n  },\n\n  /**\n   * When someone clicks on \"enter new address\" a form will show up\n   */\n  newAddressForm: function newAddressForm() {\n\n    $('#button-new-address').on('click', function (e) {\n\n      $('#button-new-address').addClass('+hidden');\n      $('#new-address').removeClass('+hidden');\n\n      OrdersAddresses.scrollToForm();\n\n      // we reset the sticky footer because it makes useless spaces\n      var Footer = require('javascripts/starters/footer');\n      Footer.processStickyFooter();\n    });\n  },\n\n  scrollToForm: function scrollToForm() {\n    $('html, body').animate({\n      scrollTop: $(\"#new-address\").offset().top\n    }, 500);\n  }\n\n};\n\nmodule.exports = OrdersAddresses;\n","'use strict';\n\n/**\n * OrdersShow class\n */\nvar OrdersShow = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.multiSelectSystem();\n  },\n\n  multiSelectSystem: function multiSelectSystem() {\n\n    $('select.sku-variants-options').multiselect({\n      enableCaseInsensitiveFiltering: true,\n      maxHeight: 400\n    }).multiselect('disable');\n  }\n\n};\n\nmodule.exports = OrdersShow;\n","\"use strict\";\n\n/**\n * Share Class\n */\nvar Share = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {}\n\n};\n\nmodule.exports = Share;\n","'use strict';\n\n/**\n * Provision class\n */\nvar Provision = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.handleDetailTables();\n  },\n\n  handleDetailTables: function handleDetailTables() {\n    $('#click-detail-tables').on('click', this.clickDetailTables);\n  },\n\n  clickDetailTables: function clickDetailTables(e) {\n    e.preventDefault();\n    $('#detail-tables').show();\n    $('#click-detail-tables').hide();\n  }\n\n};\n\nmodule.exports = Provision;\n","'use strict';\n\n/**\n * GuestFeedback Class\n */\nvar GuestFeedback = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    var Preloader = require(\"javascripts/lib/preloader\");\n    Preloader.dispatchLoader('#external-script', '.js-loader', 'iframe#WJ_survey');\n  }\n\n};\n\nmodule.exports = GuestFeedback;\n","'use strict';\n\nvar Translation = require(\"javascripts/lib/translation\");\n/**\n * PackageSets Class\n */\nvar PackageSetsShow = {\n\n    /**\n     * Initializer\n     */\n    init: function init() {\n\n        this.manageAddPackageSet();\n    },\n\n    manageAddPackageSet: function manageAddPackageSet() {\n\n        $('.js-add-package-set').on('click', function (e) {\n\n            e.preventDefault();\n\n            var OrderItem = require(\"javascripts/models/order_item\");\n            var packageSetId = $(this).data('package-set-id');\n            console.log(packageSetId);\n\n            OrderItem.addPackageSet(packageSetId, function (res) {\n\n                var Messages = require(\"javascripts/lib/messages\");\n\n                if (res.success === true) {\n\n                    Messages.makeSuccess(res.message);\n\n                    var refreshTotalProducts = require('javascripts/services/refresh_total_products');\n                    refreshTotalProducts.perform();\n                } else {\n\n                    Messages.makeError(res.error);\n                }\n            });\n        });\n    }\n};\n\nmodule.exports = PackageSetsShow;\n","'use strict';\n\nvar Translation = require(\"javascripts/lib/translation\");\n/**\n * ProductsShow Class\n */\nvar ProductsShow = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.handleProductGalery();\n    this.handleSkuChange();\n    this.handleQuantityChange();\n    this.handleAddSku();\n  },\n\n  /**\n   * Grow or reduce price on the display\n   * @param  {String} [option] `grow` or `reduce` price\n   * @param  {Integer} old_quantity    the original old quantity\n   * @param  {String} selector        the area the HTML had to be changed\n   * @return {void}\n   */\n  changePrice: function changePrice() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'grow';\n    var old_quantity = arguments[1];\n    var selector = arguments[2];\n\n\n    if (typeof $(selector) == 'undefined') {\n      return;\n    }\n\n    old_quantity = parseInt(old_quantity);\n    var old_price = $(selector).html();\n    var unit_price = parseFloat(old_price) / parseInt(old_quantity);\n\n    if (option == 'grow') {\n      var new_quantity = old_quantity + 1;\n    } else if (option == 'reduce') {\n      var new_quantity = old_quantity - 1;\n    }\n\n    var new_price = unit_price * new_quantity;\n    $(selector).html(new_price.toFixed(2));\n  },\n\n  /**\n   * Handle the quantity change with different selector (minus or plus)\n   * @return {void}\n   */\n  handleQuantityChange: function handleQuantityChange() {\n\n    this.manageQuantityMinus();\n    this.manageQuantityPlus();\n  },\n\n  /**\n   * Reduce the quantity by clicking on the minus symbol on the page\n   * @return {void}\n   */\n  manageQuantityMinus: function manageQuantityMinus() {\n\n    $('#quantity-minus').on('click', function (e) {\n\n      e.preventDefault();\n      var quantity = $('#quantity').val();;\n\n      if (quantity > 1) {\n\n        ProductsShow.changePrice('reduce', quantity, '#product_discount_with_currency_yuan .amount');\n        ProductsShow.changePrice('reduce', quantity, '#product_discount_with_currency_euro .amount');\n\n        // We show per unit\n        //ProductsShow.changePrice('reduce', quantity, '#product_fees_with_currency_yuan .amount');\n\n        ProductsShow.changePrice('reduce', quantity, '#product_price_with_currency_yuan .amount');\n        ProductsShow.changePrice('reduce', quantity, '#product_price_with_currency_euro .amount');\n        quantity--;\n      }\n      $('#quantity').val(quantity);\n    });\n  },\n\n  /**\n   * Grow the quantity by clicking on the plus symbol on the page\n   * @return {void}\n   */\n  manageQuantityPlus: function manageQuantityPlus() {\n\n    $('#quantity-plus').on('click', function (e) {\n\n      e.preventDefault();\n      var quantity = $('#quantity').val();\n\n      if (quantity < $('#quantity').data('max')) {\n\n        ProductsShow.changePrice('grow', quantity, '#product_discount_with_currency_yuan .amount');\n        ProductsShow.changePrice('grow', quantity, '#product_discount_with_currency_euro .amount');\n\n        // We show per unit only because it's not growable accurately\n        //ProductsShow.changePrice('grow', quantity, '#product_fees_with_currency_yuan .amount');\n        ProductsShow.changePrice('grow', quantity, '#product_price_with_currency_yuan .amount');\n        ProductsShow.changePrice('grow', quantity, '#product_price_with_currency_euro .amount');\n        quantity++;\n      }\n      $('#quantity').val(quantity);\n    });\n  },\n\n  /**\n   * Adds the product to the cart when clicking on 'Add Product'\n   * @return {void}\n   */\n\n  handleAddSku: function handleAddSku() {\n\n    $('#js-add-to-cart').on('click', function (e) {\n\n      e.preventDefault();\n\n      var OrderItem = require(\"javascripts/models/order_item\");\n\n      var quantity = $('#quantity').val();\n      var skuId = $('#sku_id').val();\n      var productId = $('#sku_id').data('productId');\n\n      OrderItem.addSku(productId, skuId, quantity, function (res) {\n\n        var Messages = require(\"javascripts/lib/messages\");\n\n        if (res.success === true) {\n\n          Messages.makeSuccess(res.message);\n\n          var refreshTotalProducts = require('javascripts/services/refresh_total_products');\n          refreshTotalProducts.perform();\n        } else {\n\n          Messages.makeError(res.error);\n        }\n      });\n    });\n  },\n\n  /**\n   * Manage the whole gallery selection\n   * @return {void}\n   */\n  handleProductGalery: function handleProductGalery() {\n\n    $(document).on('click', '#gallery a', function (e) {\n\n      var image = $(this).data('image');\n      var zoomImage = $(this).data('zoom-image');\n\n      e.preventDefault();\n\n      // Changing the image when we click on any thumbnail of the #gallery\n      // We also manage a small pre-loader in case it's slow.\n      ProductsShow.changeMainImage(image, '.js-loader');\n\n      /*\n      $('#main_image').magnify({\n        speed: 0,\n        src: zoomImage,\n      });*/\n    });\n\n    // We don't forget to trigger the click to load the first image\n    $('#gallery a:first').trigger('click');\n\n    // We hide the button because\n    // if there's only one element\n    ProductsShow.manageClickableImages();\n  },\n\n  /**\n   * Hide the thumbnail clickables images of the gallery\n   * If not needed (such as one image total)\n   * @return {void}\n   */\n  manageClickableImages: function manageClickableImages() {\n\n    if ($('#gallery a').size() <= 1) {\n      $('#gallery a:first').hide();\n    }\n  },\n\n  /**\n   * Load a new main image from a thumbanil\n   * @param  {String} image new image source\n   * @param  {String} loader_selector loader to display\n   * @return {void}\n   */\n  changeMainImage: function changeMainImage(image, loader_selector) {\n\n    var ContentPreloader = require(\"javascripts/lib/content_preloader\");\n    ContentPreloader.process($('#main_image').attr('src', image), loader_selector);\n  },\n\n  /**\n   * When the customer change of sku selection, it refreshes some datas (e.g. price)\n   */\n  handleSkuChange: function handleSkuChange() {\n\n    $('select#option_ids').change(function () {\n\n      var productId = $(this).attr('product_id');\n      var optionIds = $(this).val().split(',');\n\n      var ProductSku = require(\"javascripts/models/product_sku\");\n      var Messages = require(\"javascripts/lib/messages\");\n\n      ProductSku.show(productId, optionIds, function (res) {\n\n        if (res.success === false) {\n\n          Messages.makeError(res.error);\n        } else {\n\n          ProductsShow.skuChangeDisplay(productId, res);\n        }\n      });\n    });\n  },\n\n  skuHideDiscount: function skuHideDiscount() {\n\n    $('#product_discount_with_currency_euro').hide();\n    $('#product_discount_with_currency_yuan').hide();\n    $('#product_discount').hide();\n\n    $('#product_discount').removeClass('+discount');\n  },\n\n  skuShowDiscount: function skuShowDiscount() {\n\n    $('#product_discount_with_currency_euro').show();\n    $('#product_discount_with_currency_yuan').show();\n    $('#product_discount').show();\n\n    $('#product_discount').addClass('+discount');\n  },\n\n  /**\n   * Change the display of the product page sku datas\n   */\n  skuChangeDisplay: function skuChangeDisplay(productId, skuDatas) {\n\n    ProductsShow.refreshSkuQuantitySelect(productId, skuDatas['quantity']); // productId is useless with the new system (should be refactored)\n\n    $('#product_fees_with_currency_yuan').html(skuDatas['fees_with_currency_yuan']);\n    $('#product_price_with_currency_yuan').html(skuDatas['price_with_currency_yuan']);\n    $('#product_price_with_currency_euro').html(skuDatas['price_with_currency_euro']);\n    $('#quantity-left').html(skuDatas['quantity']);\n\n    $('#quantity').val(1); // we reset the quantity to 1\n\n    if (skuDatas['discount'] == 0) {\n\n      ProductsShow.skuHideDiscount();\n    } else {\n\n      ProductsShow.skuShowDiscount();\n\n      $('#product_discount_with_currency_euro').html('<span class=\"+barred\"><span class=\"+dark-grey\">' + skuDatas['price_before_discount_in_euro'] + '</span></span>');\n      $('#product_discount_with_currency_yuan').html('<span class=\"+barred\"><span class=\"+black\">' + skuDatas['price_before_discount_in_yuan'] + '</span></span>');\n      $('#product_discount').html(skuDatas['discount_with_percent'] + '<br/>');\n    }\n\n    ProductsShow.refreshSkuSecondDescription(skuDatas['data_format']);\n\n    ProductsShow.refreshSkuAttachment(skuDatas['data_format'], skuDatas['file_attachment']);\n    ProductsShow.refreshSkuThumbnailImages(skuDatas['images']);\n\n    ProductsShow.handleProductGalery();\n  },\n\n  /**\n   * Refresh sku quantity select (quantity dropdown)\n   */\n  refreshSkuQuantitySelect: function refreshSkuQuantitySelect(productId, quantity) {\n\n    var quantity_select = $('#product_quantity_' + productId).empty();\n\n    for (var i = 1; i <= parseInt(quantity); ++i) {\n      quantity_select.append('<option value=\"' + i + '\">' + i + '</option>');\n    }\n  },\n\n  /**\n   * Refresh sku thumbnail images list\n   */\n  refreshSkuThumbnailImages: function refreshSkuThumbnailImages(images) {\n\n    $('#gallery').empty();\n    for (var i = 0; i < images.length; i++) {\n\n      var image = images[i];\n\n      // protection to avoid empty images\n      // in case of transfer bug to the front-end\n      if (image.fullsize != null) {\n\n        $('#gallery').append('<div id=\"thumbnail-' + i + '\" class=\"col-md-2 col-xs-4 +centered\">' + '<a href=\"#\" data-image=\"' + image.fullsize + '\" data-zoom-image=\"' + image.zoomin + '\"><div class=\"product-page__thumbnail-image\" style=\"background-image:url(' + image.thumb + ');\"></div></a>' + '</div>');\n      }\n    }\n  },\n\n  /**\n   * Refresh the sku second description\n   */\n  refreshSkuSecondDescription: function refreshSkuSecondDescription(secondDescription) {\n\n    var more = \"<h3>\" + Translation.find('more', 'title') + \"</h3>\";\n\n    if (typeof secondDescription !== \"undefined\") {\n      $('#product-file-attachment-and-data').html(more + secondDescription);\n    } else {\n      $('#product-file-attachment-and-data').html('');\n    }\n  },\n\n  /**\n   * Refresh the sku attachment (depending on second description too)\n   */\n  refreshSkuAttachment: function refreshSkuAttachment(secondDescription, attachment) {\n\n    var more = \"<h3>\" + Translation.find('more', 'title') + \"</h3>\";\n\n    if (typeof attachment !== \"undefined\") {\n      if (typeof secondDescription !== \"undefined\") {\n        $('#product-file-attachment-and-data').html(more + secondDescription);\n      }\n      $('#product-file-attachment-and-data').append('<br /><a class=\"btn btn-default\" target=\"_blank\" href=\"' + attachment + '\">PDF Documentation</a>');\n    }\n  }\n\n};\n\nmodule.exports = ProductsShow;\n","'use strict';\n\nvar Translation = require('javascripts/lib/translation');\n\n/**\n * ProductNewSku Class\n */\nvar ProductNewSku = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    /**\n     * TODO: THIS SEEMS TO BE HIGHLY DEPRECATED BUT WE SHOULD MAKE SURE IT IS BEFORZ TO REMOVE\n     */\n\n    $('select.sku-variants-options').multiselect({\n      nonSelectedText: Translation.find('non_selected_text', 'multiselect'),\n      nSelectedText: Translation.find('n_selected_text', 'multiselect'),\n      numberDisplayed: 3,\n      maxHeight: 400,\n      onChange: function onChange(option, checked) {\n        var v = $('.sku-variants-options');\n        if (v.val()) {\n          v.next().removeClass('invalidBorderClass');\n        } else {\n          v.next().addClass('invalidBorderClass');\n        }\n      }\n    });\n\n    $('#edit_product_detail_form_btn').click(function () {\n      var v = $('select.sku-variants-options');\n\n      if (v.val() == null) {\n        v.next().addClass('invalidBorderClass');\n        return false;\n      }\n\n      if ($('img.img-responsive[src=\"\"]').length >= 4) {\n        $('.fileUpload:first').addClass('invalidBorderClass');\n        return false;\n      }\n\n      $('input.img-file-upload').click(function () {\n        if ($('img.img-responsive[src=\"\"]').length > 0) {\n          $('.fileUpload').removeClass('invalidBorderClass');\n        }\n      });\n\n      return true;\n    });\n  }\n\n};\n\nmodule.exports = ProductNewSku;\n","'use strict';\n\nvar Translation = require('javascripts/lib/translation');\n\n/**\n * ProductsShowSkus Class\n */\nvar ProductsShowSkus = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    if ($('select.sku-variants-options').length > 0) {\n\n      $('select.sku-variants-options').multiselect({\n        nonSelectedText: Translation.find('non_selected_text', 'multiselect'),\n        nSelectedText: Translation.find('n_selected_text', 'multiselect'),\n        numberDisplayed: 3,\n        maxHeight: 400\n      }).multiselect('disable');\n    }\n  }\n\n};\n\nmodule.exports = ProductsShowSkus;\n","\"use strict\";\n\n/**\n * ProductsVariants Class\n */\nvar ProductsVariants = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    /**\n     * Since the system is cloned on the admin we try\n     * to limit the code duplication by abstracting into a library\n     */\n    var Variants = require(\"javascripts/lib/variants\");\n    Variants.setup();\n  }\n\n};\n\nmodule.exports = ProductsVariants;\n","\"use strict\";\n\n$(document).ready(function () {\n\n  /**\n   * Controllers loader by Loschcode\n   * Damn simple class loader.\n   */\n  var routes = $(\"#js-routes\").data();\n  var info = $(\"#js-info\").data();\n  var starters = require(\"javascripts/starters\");\n\n  /**\n   * Disable console.log for production and tests (poltergeist)\n   */\n  if (info.environment == \"production\" || info.environment == \"test\") {\n    // || (info.environment == \"test\")\n    if (typeof window.console != \"undefined\") {\n      window.console = {};\n      window.console.log = function () {};\n      window.console.info = function () {};\n      window.console.warn = function () {};\n      window.console.error = function () {};\n    }\n  }\n\n  try {\n\n    var Casing = require(\"javascripts/lib/casing\");\n\n    for (var idx in starters) {\n\n      if (info.environment != \"test\") {\n        console.info('Loading starter : ' + starters[idx]);\n      }\n\n      var formatted_starter = Casing.underscoreCase(starters[idx]).replace('-', '_');\n      var _obj = require(\"javascripts/starters/\" + formatted_starter);\n      _obj.init();\n    }\n  } catch (err) {\n\n    console.error(\"Unable to initialize #js-starters (\" + err + \")\");\n    return;\n  }\n\n  try {\n    var meta_obj = require(\"javascripts/controllers/\" + routes.controller);\n    console.info(\"Loading controller \" + routes.controller);\n    meta_obj.init();\n  } catch (err) {\n    console.warn(\"Unable to initialize #js-routes `\" + routes.controller + \"` (\" + err + \")\");\n  }\n\n  try {\n    var obj = require(\"javascripts/controllers/\" + routes.controller + \"/\" + routes.action);\n    console.info(\"Loading controller-action \" + routes.controller + \"/\" + routes.action);\n  } catch (err) {\n    console.warn(\"Unable to initialize #js-routes `\" + routes.controller + \"`.`\" + routes.action + \"` (\" + err + \")\");\n    return;\n  }\n\n  /**\n   * Initialization\n   */\n  obj.init();\n});\n","\"use strict\";\n\n/**\n * Casing Class\n */\nvar Casing = {\n\n  /**\n   * CamelCase to underscored case\n   */\n  underscoreCase: function underscoreCase(string) {\n    return string.replace(/(?:^|\\.?)([A-Z])/g, function (x, y) {\n      return \"_\" + y.toLowerCase();\n    }).replace(/^_/, \"\").replace('-', '_');\n  },\n\n  /**\n   * Undescored to CamelCase\n   */\n  camelCase: function camelCase(string) {\n    return string.replace(/(\\-[a-z])/g, function ($1) {\n      return $1.toUpperCase().replace('-', '');\n    });\n  },\n\n  /**\n   * Convert an object to underscore case\n   */\n  objectToUnderscoreCase: function objectToUnderscoreCase(obj) {\n\n    var parsed = {};\n    for (var key in obj) {\n\n      var new_key = this.underscoreCase(key);\n      parsed[new_key] = obj[key];\n    }\n\n    return parsed;\n  }\n\n};\n\nmodule.exports = Casing;\n","\"use strict\";\n\n/**\n * ContentPreloader Class\n */\nvar ContentPreloader = {\n\n  /**\n   * Preload some content inside the system\n   * @param  {String} image new image source\n   * @param  {String} loader_selector loader to display\n   * @return {void}\n   */\n  process: function process(selected_attr, loader_selector) {\n\n    selected_attr.load(function () {\n      $(loader_selector).hide();\n      $(this).show();\n    }).before(function () {\n      $(loader_selector).show();\n      $(this).hide();\n    });\n  }\n\n};\n\nmodule.exports = ContentPreloader;\n","\"use strict\";\n\n/* German initialisation for the jQuery UI date picker plugin. */\n/* Written by Milian Wolff (mail@milianw.de). */\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n\n    // AMD. Register as an anonymous module.\n    define([\"../widgets/datepicker\"], factory);\n  } else {\n\n    // Browser globals\n    factory(jQuery.datepicker);\n  }\n})(function (datepicker) {\n\n  datepicker.regional.de = {\n    closeText: \"Schließen\",\n    prevText: \"&#x3C;Zurück\",\n    nextText: \"Vor&#x3E;\",\n    currentText: \"Heute\",\n    monthNames: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    monthNamesShort: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n    dayNames: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    dayNamesShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    dayNamesMin: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    weekHeader: \"KW\",\n    dateFormat: \"dd.mm.yy\",\n    firstDay: 1,\n    isRTL: false,\n    showMonthAfterYear: false,\n    yearSuffix: \"\" };\n  datepicker.setDefaults(datepicker.regional.de);\n\n  return datepicker.regional.de;\n});\n","\"use strict\";\n\n/* Chinese initialisation for the jQuery UI date picker plugin. */\n/* Written by Cloudream (cloudream@gmail.com). */\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n\n    // AMD. Register as an anonymous module.\n    define([\"../widgets/datepicker\"], factory);\n  } else {\n\n    // Browser globals\n    factory(jQuery.datepicker);\n  }\n})(function (datepicker) {\n\n  datepicker.regional['zh-CN'] = {\n    closeText: \"关闭\",\n    prevText: \"&#x3C;上月\",\n    nextText: \"下月&#x3E;\",\n    currentText: \"今天\",\n    monthNames: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n    monthNamesShort: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n    dayNames: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\n    dayNamesShort: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n    dayNamesMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    weekHeader: \"周\",\n    dateFormat: \"yy-mm-dd\",\n    firstDay: 1,\n    isRTL: false,\n    showMonthAfterYear: true,\n    yearSuffix: \"年\" };\n  datepicker.setDefaults(datepicker.regional['zh-CN']);\n\n  return datepicker.regional['zh-CN'];\n});\n","'use strict';\n\n/**\n * Messages Class\n */\nvar Messages = {\n\n  shown: false,\n\n  makeError: function makeError(error) {\n\n    $('#message-container-error').show();\n    $(\"#message-content-error\").html(error);\n    Messages.activateHide('#message-container-error', 3000);\n    Messages.shown = true;\n  },\n\n  makeSuccess: function makeSuccess(success) {\n\n    $('#message-container-success').show();\n    $(\"#message-content-success\").html(success);\n    Messages.activateHide('#message-container-success', 4000);\n    Messages.shown = true;\n  },\n\n  /**\n   * Everything below is called from the starter messages.js\n   */\n\n  activateHide: function activateHide(el, time) {\n\n    setTimeout(function () {\n      $(el).fadeOut(function () {\n        $(document).trigger('message:hidden');\n        Messages.shown = false;\n      });\n    }, time);\n  },\n\n  forceHide: function forceHide(el) {\n    $('#message-area').on('click', function () {\n      $(el).hide();\n    });\n  }\n\n};\n\nmodule.exports = Messages;\n","\"use strict\";\n\n/**\n * PostForm Class\n */\nvar PostForm = {\n\n  /**\n   * Generate and create a form\n   */\n  send: function send(params, path, target, method) {\n\n    var method = method || \"POST\";\n    var path = path || \"\";\n    var target = target || \"\";\n\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"method\", method);\n    form.setAttribute(\"action\", path);\n    form.setAttribute(\"target\", target);\n\n    for (var key in params) {\n\n      if (params.hasOwnProperty(key)) {\n\n        var f = document.createElement(\"input\");\n        f.setAttribute(\"type\", \"hidden\");\n        f.setAttribute(\"name\", key);\n        f.setAttribute(\"value\", params[key]);\n        form.appendChild(f);\n      }\n    }\n\n    document.body.appendChild(form); // <- JS way\n    // $('body').append(form); // <- jQuery way\n    //console.log(form);\n    form.submit();\n  }\n\n};\n\nmodule.exports = PostForm;\n","\"use strict\";\n\n/**\n* Preloader Class\n*/\nvar Preloader = {\n\n  /**\n  * Check an element and hide it until the trigger is loaded itself\n  * Show a loder `.js-loader` if possible\n  */\n  dispatchLoader: function dispatchLoader(element, loader_selector, trigger) {\n\n    $(loader_selector).show();\n    $(element).hide();\n\n    $(trigger).load(function () {\n      $(loader_selector).hide();\n      $(element).show();\n    });\n  }\n\n};\n\nmodule.exports = Preloader;\n","'use strict';\n\n/**\n * Skus Class\n */\nvar Skus = {\n\n  setup: function setup() {\n\n    this.handleMultiSelect();\n    this.handleForm();\n  },\n\n  /**\n   * We turn the multi-select of the sku dashboard management into a readable checkbox select\n   * @return {void}\n   */\n  handleMultiSelect: function handleMultiSelect() {\n\n    var Translation = require('javascripts/lib/translation');\n\n    $('select.sku-variants-options').multiselect({\n      nonSelectedText: Translation.find('non_selected_text', 'multiselect'),\n      nSelectedText: Translation.find('n_selected_text', 'multiselect'),\n      numberDisplayed: 3,\n      maxHeight: 400,\n      onChange: function onChange(option, checked) {\n        var v = $('.sku-variants-options');\n        if (v.val()) {\n          v.next().removeClass('invalidBorderClass');\n        } else {\n          v.next().addClass('invalidBorderClass');\n        }\n      }\n    });\n  },\n\n  /**\n   * This seems to handle the images warning on the skus form for shopkeeper and admin\n   * NOTE : i didn't refactor this, it should be made cleaner and check the use.\n   */\n  handleForm: function handleForm() {\n\n    $('#edit_product_detail_form_btn').click(function () {\n      var v = $('select.sku-variants-options');\n\n      if (v.val() == null) {\n        v.next().addClass('invalidBorderClass');\n        return false;\n      }\n\n      if ($('img.img-responsive[src=\"\"]').length >= 4) {\n        $('.fileUpload:first').addClass('invalidBorderClass');\n        return false;\n      }\n\n      $('input.img-file-upload').click(function () {\n        if ($('img.img-responsive[src=\"\"]').length > 0) {\n          $('.fileUpload').removeClass('invalidBorderClass');\n        }\n      });\n\n      return true;\n    });\n  }\n\n};\n\nmodule.exports = Skus;\n","\"use strict\";\n\n/**\n * Translation Class\n */\nvar Translation = {\n\n  find: function find(translationSlug, translationScope) {\n\n    var selector = \".js-translation[data-slug='\" + translationSlug + \"'][data-scope='\" + translationScope + \"']\";\n    if ($(selector).length > 0) {\n      return $(selector).data('content');\n    } else {\n      console.error(\"Translation not found : `\" + translationScope + \"`.`\" + translationSlug + \"`\");\n      return '';\n    }\n  },\n\n  /**\n  * Find a translation and return the string from AJAX with callbacks\n  */\n  findAsync: function findAsync(translationSlug, translationScope, callback) {\n\n    var TranslationModel = require(\"javascripts/models/translation\");\n\n    TranslationModel.show(translationSlug, translationScope, function (res) {\n\n      if (res.success === false) {\n        console.error(\"Translation not found `\" + translationSlug + \"` (\" + res.error + \")\");\n      } else {\n        callback(res.translation);\n      }\n    });\n  }\n\n};\n\nmodule.exports = Translation;\n","'use strict';\n\n/**\n * UrlProcess Class\n */\nvar UrlProcess = {\n\n    urlParam: function urlParam(param) {\n        var pageUrl = decodeURIComponent(window.location.search.substring(1)),\n            sURLVariables = pageUrl.split('&'),\n            parameterName,\n            i;\n\n        for (i = 0; i < sURLVariables.length; i++) {\n            parameterName = sURLVariables[i].split('=');\n\n            if (parameterName[0] === param) {\n                return parameterName[1] === undefined ? true : parameterName[1];\n            }\n        }\n    },\n\n    insertParam: function insertParam(key, value) {\n\n        key = encodeURI(key);value = encodeURI(value);\n\n        var kvp = document.location.search.substr(1).split('&');\n\n        var i = kvp.length;var x;while (i--) {\n            x = kvp[i].split('=');\n\n            if (x[0] == key) {\n                x[1] = value;\n                kvp[i] = x.join('=');\n                break;\n            }\n        }\n\n        if (i < 0) {\n            kvp[kvp.length] = [key, value].join('=');\n        }\n\n        //this will reload the page, it's likely better to store this until finished\n        document.location.search = kvp.join('&');\n    }\n\n};\n\nmodule.exports = UrlProcess;\n","'use strict';\n\n/**\n * Variants Class\n */\nvar Variants = {\n\n  setup: function setup() {\n\n    this.addOptionHandler();\n    this.removeOptionHandler();\n\n    this.addVariantHandler();\n    this.removeVariantHandler();\n  },\n\n  addVariantHandler: function addVariantHandler() {\n\n    $('#add-variant').on('click', function (e) {\n\n      e.preventDefault();\n      var target = $('.js-temporary-variant.hidden:first');\n      console.log(target);\n      target.removeClass('hidden');\n    });\n  },\n\n  removeVariantHandler: function removeVariantHandler() {\n\n    $('.js-remove-variant').on('click', function (e) {\n\n      e.preventDefault();\n      var container = $(this).closest('.js-temporary-variant');\n      var input_target = container.find('input');\n      input_target.val('');\n      container.addClass('hidden');\n    });\n  },\n\n  /**\n   * We add an option (aka suboption in some cases) to the variant\n   * It will just show a field which was previously hidden\n   * NOTE : everything is managed by rails itself beforehand\n   * to make it flexible in the front-end side\n   */\n  addOptionHandler: function addOptionHandler() {\n\n    $('.js-add-option').on('click', function (e) {\n\n      e.preventDefault();\n      var target = $(this).closest('.variant-box').find('.js-temporary-option.hidden:first');\n      target.removeClass('hidden');\n    });\n  },\n\n  /**\n   * Set the value of the field to empty\n   * and hide it from the display\n   */\n  removeOptionHandler: function removeOptionHandler() {\n\n    $('.js-remove-option').on('click', function (e) {\n\n      e.preventDefault();\n      var container = $(this).closest('.js-temporary-option');\n      var input_target = container.find('input');\n      input_target.val('');\n      container.addClass('hidden');\n    });\n  }\n\n};\n\nmodule.exports = Variants;\n","\"use strict\";\n\n/**\n * Models Class\n */\nvar Models = [\n\n  // Not currently in use (please load each model on a case per case basis)\n  //\n];\n\nmodule.exports = Models;\n","\"use strict\";\n\n/**\n * Cart Class\n */\nvar Cart = {\n\n  /**\n   * Get the total number of products within the cart\n   */\n  total: function total(callback) {\n\n    // NOTE : condition race made it impossible to build\n    // I passed 2 full days on this problem\n    // Good luck.\n    // - Laurent\n    $.ajax({\n      method: \"GET\",\n      url: \"/api/guest/cart/total\",\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  removePackageSet: function removePackageSet(packageSetId, orderId, callback) {\n\n    $.ajax({\n      method: \"DELETE\",\n      url: \"/api/guest/package_sets/\" + packageSetId,\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = Cart;\n","\"use strict\";\n\n/**\n * Chart Class\n */\nvar Chart = {\n\n  /**\n   * Get the total number of products within the cart\n   */\n  get: function get(action, metadata, callback) {\n\n    console.log(\"/api/admin/charts/\" + action);\n    // NOTE : condition race made it impossible to build\n    // I passed 2 full days on this problem\n    // Good luck.\n    // - Laurent\n    $.ajax({\n      method: \"GET\",\n      url: \"/api/admin/charts/\" + action,\n      data: { metadata: metadata || {} }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = Chart;\n","\"use strict\";\n\n/**\n * Duty Category Class\n */\nvar DutyCategory = {\n\n  /**\n   * Check if user is auth or not via API call\n   */\n  find: function find(dutyCategoryId, callback) {\n\n    $.ajax({\n      method: \"GET\",\n      url: \"/api/admin/duty_categories/\" + dutyCategoryId,\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = DutyCategory;\n","\"use strict\";\n\n/**\n * Link Class\n */\nvar Link = {\n\n  /**\n   * Get the total number of products within the cart\n   */\n  wechat: function wechat(raw_url, callback) {\n\n    // NOTE : condition race made it impossible to build\n    // I passed 2 full days on this problem\n    // Good luck.\n    // - Laurent\n    $.ajax({\n      method: \"GET\",\n      url: \"/api/admin/links/wechat\",\n      data: { raw_url: raw_url }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = Link;\n","\"use strict\";\n\n/**\n * NavigationModel Class\n */\nvar NavigationModel = {\n\n  /**\n   * Check if user is auth or not via API call\n   */\n  setLocation: function setLocation(location, callback) {\n\n    $.ajax({\n      method: \"PATCH\",\n      url: \"/api/guest/navigation/\",\n      data: { \"location\": location }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = NavigationModel;\n","\"use strict\";\n\n/**\n * Order Class\n */\nvar Order = {\n\n  /**\n   * Check if user is auth or not via API call\n   */\n  update: function update(orderId, params, callback) {\n\n    $.ajax({\n      method: \"PATCH\",\n      url: \"/api/customer/orders/\" + orderId,\n      data: { order: params }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n};\n\nmodule.exports = Order;\n","\"use strict\";\n\n/**\n * OrderItem Class\n */\nvar OrderItem = {\n\n  /**\n   * Check if user is auth or not via API call\n   */\n  setQuantity: function setQuantity(orderItemId, quantity, callback) {\n\n    $.ajax({\n      method: \"PATCH\",\n      url: \"/api/guest/order_items/\" + orderItemId,\n      data: { \"quantity\": quantity }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  setPackageSetQuantity: function setPackageSetQuantity(packageSetId, quantity, callback) {\n\n    $.ajax({\n      method: \"PATCH\",\n      url: \"/api/guest/package_sets/\" + packageSetId,\n      data: { \"quantity\": quantity }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  addSku: function addSku(productId, skuId, quantity, callback) {\n    $.ajax({\n      method: \"POST\",\n      url: \"/api/guest/order_items\",\n      data: { product_id: productId, sku_id: skuId, quantity: quantity }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  removeProduct: function removeProduct(orderItemId, callback) {\n    $.ajax({\n      method: \"DELETE\",\n      url: \"/api/guest/order_items/\" + orderItemId\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  removeOrder: function removeOrder(orderId, callback) {\n    $.ajax({\n      method: \"DELETE\",\n      url: \"/api/customer/orders/\" + orderId\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  addPackageSet: function addPackageSet(packageSetId, callback) {\n    $.ajax({\n      method: \"POST\",\n      url: \"/api/guest/package_sets?\",\n      data: { \"package_set_id\": packageSetId }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = OrderItem;\n","\"use strict\";\n\n/**\n * OrderPayment Class\n */\nvar OrderPayment = {\n\n  /**\n   * Get the ProductSku details\n   */\n  show: function show(orderPaymentId, callback) {\n\n    $.ajax({\n\n      method: \"GET\",\n      url: '/api/customer/order_payments/' + orderPaymentId,\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = OrderPayment;\n","\"use strict\";\n\n/**\n * Product Class\n */\nvar Product = {\n\n  /**\n   * Like a product\n   */\n  like: function like(productId, callback) {\n\n    $.ajax({\n      method: \"PUT\",\n      url: \"/api/customer/favorites/\" + productId,\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  /**\n   * Unlike a product\n   */\n  unlike: function unlike(productId, callback) {\n\n    $.ajax({\n      method: \"DELETE\",\n      url: \"/api/customer/favorites/\" + productId,\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = Product;\n","'use strict';\n\n/**\n * ProductSku Class\n */\nvar ProductSku = {\n\n  /**\n   * Get the ProductSku details\n   */\n  show: function show(productId, optionIds, callback) {\n\n    $.ajax({\n\n      method: \"GET\",\n      url: '/api/guest/products/' + productId + '/skus/0', // 0 is to match with the norm ... hopefully when we go away from mongo there's no such things\n      data: { option_ids: optionIds }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  },\n\n  /**\n   * Get all the Skus from the Product\n   */\n  all: function all(productId, callback) {\n\n    $.ajax({\n\n      method: \"GET\",\n      url: '/api/guest/products/' + productId + '/skus',\n      data: {}\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = ProductSku;\n","\"use strict\";\n\n/**\n * Translations Class\n */\nvar Translations = {\n\n  /**\n   * Get the Translations details\n   */\n  show: function show(translationSlug, translationScope, callback) {\n\n    $.ajax({\n\n      method: \"GET\",\n      url: '/api/guest/translations/0',\n      data: { translation_slug: translationSlug, translation_scope: translationScope }\n\n    }).done(function (res) {\n\n      callback(res);\n    }).error(function (err) {\n\n      if (typeof err == \"undefined\") {\n        return;\n      }\n\n      callback({ success: false, error: err.responseJSON.error });\n    });\n  }\n\n};\n\nmodule.exports = Translations;\n","'use strict';\n\n/**\n * RefreshTotalProducts Class\n */\nvar RefreshTotalProducts = {\n\n  /**\n   * Refresh it\n   */\n  perform: function perform() {\n\n    var Cart = require('javascripts/models/cart');\n    Cart.total(function (res) {\n      $(\".js-total-products\").html(res.datas);\n      RefreshTotalProducts.resolveHiding(res.datas);\n    });\n  },\n\n  resolveHiding: function resolveHiding(total) {\n    if (total > 0) {\n      $('.js-total-products').removeClass('+hidden');\n    } else {\n      $('.js-total-products').addClass('+hidden');\n    }\n  }\n\n};\n\nmodule.exports = RefreshTotalProducts;\n","'use strict';\n\n/**\n * Starters Class\n */\nvar Starters = ['anti_cache', 'auto_resize', 'back_to_top', 'bootstrap', 'charts', 'datepicker', 'distpicker', 'editable_fields', 'footer', 'input_validation', 'images_handler', 'lazy_loader', 'left_menu', 'links_behaviour', 'messages', 'mobile_menu', 'mobile', 'navigation', 'product_favorite', 'product_form', 'products_list', 'qrcode', 'refresh_time', 'responsive', 'search', 'sku_form', 'sweet_alert', 'table_clicker', 'tooltipster', 'total_products', 'weixin'];\n\nmodule.exports = Starters;\n","'use strict';\n\nvar UrlProcess = require('javascripts/lib/url_process');\n\n/**\n * AntiCache Class\n */\nvar AntiCache = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupAntiCache();\n  },\n\n\n  /**\n   * When the param cache=false then we refresh the page with a timer\n   * It's a global system throughout all pages\n   */\n  setupAntiCache: function setupAntiCache() {\n    // If the cache is off ; `cache=false` in parameters\n    // And check if time is not written already as well\n    if (this.cacheOff() && !this.timePresent()) {\n      this.insertCurrentTime();\n    }\n  },\n\n\n  // This will refresh the page and add time=SOMETIME in the URL\n  insertCurrentTime: function insertCurrentTime() {\n    UrlProcess.insertParam('time', jQuery.now());\n  },\n  cacheOff: function cacheOff() {\n    return UrlProcess.urlParam('cache') == \"false\";\n  },\n\n\n  // Is the time parameter present ?\n  timePresent: function timePresent() {\n    return typeof UrlProcess.urlParam('time') != \"undefined\";\n  }\n};\n\nmodule.exports = AntiCache;\n","'use strict';\n\n/**\n * AutoResize Class\n */\nvar AutoResize = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupAutoResize();\n  },\n\n  setupAutoResize: function setupAutoResize() {\n\n    $('textarea').textareaAutoSize();\n  }\n};\n\nmodule.exports = AutoResize;\n","'use strict';\n\n/**\n * BackToTop Class\n */\nvar BackToTop = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.setupBackToTop();\n  },\n\n  /**\n   * Back to top button system\n   * NOTE : This was taken from the Internet\n   * Don't hesitate to refactor if needed\n   */\n  setupBackToTop: function setupBackToTop() {\n\n    $(function () {\n      $.scrollUp({\n        scrollName: 'scrollUp', // Element ID\n        scrollDistance: 300, // Distance from top/bottom before showing element (px)\n        scrollFrom: 'top', // 'top' or 'bottom'\n        scrollSpeed: 300, // Speed back to top (ms)\n        easingType: 'linear', // Scroll to top easing (see http://easings.net/)\n        animation: 'fade', // Fade, slide, none\n        animationSpeed: 200, // Animation speed (ms)\n        scrollTrigger: false, // Set a custom triggering element. Can be an HTML string or jQuery object\n        scrollTarget: false, // Set a custom target element for scrolling to. Can be element or number\n        scrollText: '<i class=\"fa fa-caret-up\"></i>', // Text for element, can contain HTML\n        scrollTitle: false, // Set a custom <a> title if required.\n        scrollImg: false, // Set true to use image\n        activeOverlay: false, // Set CSS color to display scrollUp active point, e.g '#00FFFF'\n        zIndex: 2147483647 // Z-Index for the overlay\n      });\n    });\n  }\n\n};\n\nmodule.exports = BackToTop;\n","\"use strict\";\n\n/**\n * Bootstrap Class\n */\nvar Bootstrap = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.startPopover();\n    this.startTooltip();\n  },\n\n  /**\n   * \n   */\n  startPopover: function startPopover() {\n\n    $(\"a[rel~=popover], .has-popover\").popover();\n  },\n\n  startTooltip: function startTooltip() {\n\n    $(\"a[rel~=tooltip], .has-tooltip\").tooltip();\n  }\n\n};\n\nmodule.exports = Bootstrap;\n","'use strict';\n\nvar ChartModel = require(\"javascripts/models/chart\");\n/**\n * Charts Class\n */\nvar Charts = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.setupCharts();\n  },\n\n  /**\n   * This will try to render any chart present on the HTML\n   * <canvas class=\"js-chart\" data-action=\"total_users\" width=\"500\" height=\"150\"></canvas>\n   */\n  setupCharts: function setupCharts() {\n    // We will load one after the other each chart\n    // with their matching action\n    $('.js-chart').each(function (index, value) {\n      var action = $(this).data('action');\n      var metadata = $(this).data('metadata');\n      Charts.renderChart(action, metadata, $(this));\n    });\n  },\n\n  renderChart: function renderChart(action, metadata, target) {\n    ChartModel.get(action, metadata, function (res) {\n      Charts.pluginNumbers();\n      new Chart(target, res.data);\n    });\n  },\n\n  pluginNumbers: function pluginNumbers() {\n\n    // Define a plugin to provide data labels\n    Chart.plugins.register({\n      afterDatasetsDraw: function afterDatasetsDraw(chart, easing) {\n        // To only draw at the end of animation, check for easing === 1\n        var ctx = chart.ctx;\n\n        // Numbers option is on\n        if (chart.data.numbers) {\n\n          chart.data.datasets.forEach(function (dataset, i) {\n            var meta = chart.getDatasetMeta(i);\n            if (!meta.hidden) {\n              meta.data.forEach(function (element, index) {\n                // Draw the text in black, with the specified font\n                ctx.fillStyle = dataset.backgroundColor;\n\n                var fontSize = 14;\n                var fontStyle = 'bold';\n                var fontFamily = 'Helvetica Neue';\n                ctx.font = Chart.helpers.fontString(fontSize, fontStyle, fontFamily);\n\n                // Just naively convert to string for now\n                var dataString = dataset.data[index].toString();\n\n                // Make sure alignment settings are correct\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n\n                var padding = 5;\n                var position = element.tooltipPosition();\n                ctx.fillText(dataString, position.x, position.y - fontSize / 2 - padding);\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n};\n\nmodule.exports = Charts;\n","'use strict';\n\n/**\n * Datepicker Class\n */\nvar Datepicker = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    if ($('#js-show-datepicker').length > 0) {\n\n      var showDatepicker = $('#js-show-datepicker').data();\n      var language = showDatepicker.language ? showDatepicker.language : 'de';\n\n      if (language == 'de') {\n        require(\"javascripts/lib/foreign/datepicker-de.js\");\n      } else {\n        require(\"javascripts/lib/foreign/datepicker-zh-CN.js\");\n      }\n\n      if ($('#datepicker').length > 0) {\n        $(\"#datepicker\").datepicker({\n          changeMonth: true,\n          changeYear: true,\n          yearRange: '1945:' + new Date().getFullYear(),\n          dateFormat: \"yy-mm-dd\"\n        });\n      }\n\n      if ($('#future-datepicker').length > 0) {\n        $(\"#future-datepicker\").datepicker({\n          changeMonth: true,\n          changeYear: true,\n          yearRange: new Date().getFullYear() + ':2020',\n          dateFormat: \"yy-mm-dd\"\n        });\n      }\n    }\n  }\n\n};\n\nmodule.exports = Datepicker;\n","\"use strict\";\n\n/**\n * Distpicker Class\n */\nvar Distpicker = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    if ($('#distpicker').length > 0) {\n      $(\"#distpicker\").distpicker();\n    }\n  }\n\n};\n\nmodule.exports = Distpicker;\n","'use strict';\n\n/**\n* EditableFields Class\n* Will make the edit fields appear and the text disappear\n* It's used in the order edit for admin (for example)\n* This is a very small system, not ambitious at all\n* Keep it this way or use a real plugin.\n*/\nvar EditableFields = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.hideAllEditable();\n    $('.js-editable-click').on('click', $.proxy(this.manageShowEditable, this));\n  },\n\n  manageShowEditable: function manageShowEditable(e) {\n    e.preventDefault();\n    this.showEditable(e.currentTarget);\n  },\n\n  hideAllEditable: function hideAllEditable() {\n    $('.js-editable-text').show();\n    $('.js-editable-field').hide();\n    $('.js-editable-click').show();\n    $('.js-editable-submit').hide();\n  },\n\n  hideEditable: function hideEditable(element) {\n    $(element).parent().find('.js-editable-text').show();\n    $(element).parent().find('.js-editable-field').hide();\n    $(element).parent().find('.js-editable-click').show();\n    $(element).parent().find('.js-editable-submit').hide();\n  },\n\n  showEditable: function showEditable(element) {\n    $(element).parent().find('.js-editable-text').hide();\n    $(element).parent().find('.js-editable-field').show();\n    $(element).parent().find('.js-editable-click').hide();\n    $(element).parent().find('.js-editable-submit').show();\n  }\n\n};\n\nmodule.exports = EditableFields;\n","'use strict';\n\n/**\n * Footer Class\n */\nvar Footer = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.stickyFooter();\n  },\n\n  /**\n   * Put the footer on the bottom of the page\n   */\n  stickyFooter: function stickyFooter() {\n\n    var self = this;\n\n    if ($('.js-footer-stick').length > 0) {\n\n      Footer.processStickyFooter();\n\n      $(document).on('message:hidden', function () {\n        Footer.processStickyFooter();\n      });\n\n      $(window).resize(function () {\n        Footer.processStickyFooter();\n      });\n    }\n  },\n\n  processStickyFooter: function processStickyFooter() {\n\n    var docHeight, footerHeight, footerTop;\n\n    $('.js-footer-stick').css('margin-top', 0);\n\n    var docHeight = $(window).height();\n    var footerHeight = $('.js-footer-stick').height();\n    var headerHeight = $('.navbar-fixed-top').first().height();\n    var footerTop = $('.js-footer-stick').position().top + footerHeight;\n\n    if (footerTop < docHeight) {\n      $('.js-footer-stick').css('margin-top', docHeight + headerHeight * 1.30 - footerTop + 'px');\n    }\n  }\n\n};\n\nmodule.exports = Footer;\n","\"use strict\";\n\n/**\n* ImagesHandler Class\n*/\nvar ImagesHandler = {\n\n  elements: {\n    image: \".js-file-upload\"\n  },\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.validateImageFile();\n    this.imageLiveRefresh();\n  },\n\n  /**\n  * Validate the image itself when it's changed\n  * @return {void}\n  */\n  validateImageFile: function validateImageFile() {\n\n    $(ImagesHandler.elements.image).on('change', function () {\n\n      var Messages = require(\"javascripts/lib/messages\");\n      var Translation = require(\"javascripts/lib/translation\");\n      var inputFile = this;\n\n      var maxExceededMessage = Translation.find('max_exceeded_message', 'image_upload');\n      var extErrorMessage = Translation.find('ext_error_message', 'image_upload');\n      var allowedExtension = [\"jpg\", \"JPG\", \"jpeg\", \"JPEG\", \"png\", \"PNG\"];\n      var extName;\n      var maxFileSize = 1048576 * 3; // 3MB\n      var sizeExceeded = false;\n      var extError = false;\n\n      $.each(inputFile.files, function () {\n        if (this.size && maxFileSize && this.size > maxFileSize) {\n          sizeExceeded = true;\n        };\n        extName = this.name.split('.').pop();\n        if ($.inArray(extName, allowedExtension) == -1) {\n          extError = true;\n        };\n      });\n\n      if (sizeExceeded) {\n        Messages.makeError(maxExceededMessage);\n        $(inputFile).val('');\n      };\n\n      if (extError) {\n        Messages.makeError(extErrorMessage);\n        $(inputFile).val('');\n      };\n    });\n  },\n\n  /**\n  * This system is basically live refreshing the images when you select one from your browser\n  * It's mainly used by the shopkeepers\n  * @return {void}\n  */\n  imageLiveRefresh: function imageLiveRefresh() {\n\n    if ($(ImagesHandler.elements.image).length > 0) {\n\n      $(ImagesHandler.elements.image).each(function () {\n\n        var fileElement = $(this);\n\n        $(this).change(function (event) {\n          var input = $(event.currentTarget);\n          var file = input[0].files[0];\n          var reader = new FileReader();\n          reader.onload = function (e) {\n            var image_base64 = e.target.result;\n\n            var image_div = fileElement.attr('image_selector');\n            $(image_div).attr(\"src\", image_base64);\n\n            // we show the update\n            var add_link = fileElement.attr('image_selector') + '_add';\n            $(add_link).removeClass('hidden');\n          };\n          reader.readAsDataURL(file);\n        });\n      });\n    }\n  }\n\n};\n\nmodule.exports = ImagesHandler;\n","'use strict';\n\n/**\n* InputValidation Class\n*/\nvar InputValidation = {\n\n  /**\n  * Initializer\n  */\n  init: function init() {\n\n    this.restrictToChinese();\n  },\n\n  /**\n   * USE : just add data-error to an input to have the custom error show up\n   */\n  restrictToChinese: function restrictToChinese() {\n\n    $(\"input\").on('invalid', function (e) {\n      if (typeof $(this).data('error') != \"undefined\") {\n        this.setCustomValidity($(this).data('error'));\n      }\n    });\n\n    $(\"input\").on('keyup', function (e) {\n      this.setCustomValidity(\"\");\n    });\n  }\n\n};\n\nmodule.exports = InputValidation;\n","\"use strict\";\n\n/**\n * LazyLoader Class\n */\nvar LazyLoader = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.startLazyLoader();\n  },\n\n  /**\n   *\n   */\n  startLazyLoader: function startLazyLoader() {\n\n    $(\"div.lazy\").lazyload({\n      effect: \"fadeIn\",\n      threshold: 650\n    });\n  }\n\n};\n\nmodule.exports = LazyLoader;\n","'use strict';\n\n/**\n * LeftMenu Class\n */\nvar LeftMenu = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.startLeftMenu();\n  },\n\n  /**\n   *\n   */\n  startLeftMenu: function startLeftMenu() {\n\n    $('select.nice').niceSelect();\n    $('.overlay').on('click', function (e) {\n      $('#mobile-menu-button').trigger('click');\n    });\n\n    // NOTE : no idea what this is, i think it doesn't exist anymore\n    // - Laurent 26/01/2017\n    // $('#left_menu > ul > li > a').click(function() {\n    //     $('#left_menu li').removeClass('active');\n    //     $(this).closest('li').addClass('active');\n    //     var checkElement = $(this).next();\n    //     if((checkElement.is('ul')) && (checkElement.is(':visible'))) {\n    //         $(this).closest('li').removeClass('active');\n    //         checkElement.slideUp('normal');\n    //     }\n    //     if((checkElement.is('ul')) && (!checkElement.is(':visible'))) {\n    //         $('#left_menu ul ul:visible').slideUp('normal');\n    //         checkElement.slideDown('normal');\n    //     }\n    //     if($(this).closest('li').find('ul').children().length == 0) {\n    //         return true;\n    //     } else {\n    //         return false;\n    //     }\n    // });\n  }\n\n};\n\nmodule.exports = LeftMenu;\n","'use strict';\n\n/**\n * LinkBehaviour Class\n */\nvar LinkBehaviour = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupSubmitForm();\n  },\n\n  /**\n   * If we use the data-submit-form it will force submit with a simple link\n   */\n  setupSubmitForm: function setupSubmitForm() {\n\n    $(document).on('click', '[data-form=\"submit\"]', function (e) {\n      e.preventDefault();\n      $(this).closest('form').submit();\n    });\n  }\n\n};\n\nmodule.exports = LinkBehaviour;\n","\"use strict\";\n\n/**\n * Messages Class\n */\nvar Messages = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.hideMessages();\n  },\n\n  /**\n   *\n   */\n  hideMessages: function hideMessages() {\n\n    var Messages = require(\"javascripts/lib/messages\");\n\n    if ($(\"#message-container-error\").length > 0) {\n      Messages.activateHide('#message-container-error', 4000);\n      Messages.forceHide('#message-container-error');\n    }\n\n    if ($(\"#message-container-success\").length > 0) {\n      Messages.activateHide('#message-container-success', 5000);\n      Messages.forceHide('#message-container-success');\n    }\n  }\n\n};\n\nmodule.exports = Messages;\n","\"use strict\";\n\n/**\n * AutoResize Class\n */\nvar AutoResize = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupInternational();\n  },\n\n  setupInternational: function setupInternational() {\n\n    $(\"#user_mobile\").intlTelInput({\n      nationalMode: false,\n      preferredCountries: [\"DE\", \"CN\"],\n      initialCountry: \"DE\"\n    });\n\n    $(\"#inquiry_mobile\").intlTelInput({\n      nationalMode: false,\n      preferredCountries: [\"DE\", \"CN\"],\n      initialCountry: \"CN\"\n    });\n\n    $(\"#address_mobile\").intlTelInput({\n      nationalMode: false,\n      preferredCountries: [\"DE\", \"CN\"],\n      initialCountry: \"CN\"\n    });\n\n    $(\"#shop_application_mobile\").intlTelInput({\n      nationalMode: false,\n      preferredCountries: [\"DE\", \"CN\"],\n      initialCountry: \"DE\"\n    });\n\n    $(\"#shop_application_tel\").intlTelInput({\n      nationalMode: false,\n      preferredCountries: [\"DE\", \"CN\"],\n      initialCountry: \"DE\"\n    });\n  }\n};\n\nmodule.exports = AutoResize;\n","'use strict';\n\n/**\n * MobileMenu Class\n */\nvar MobileMenu = {\n\n    /**\n     * Initializer\n     */\n    init: function init() {\n\n        this.startMobileMenu();\n    },\n\n    /**\n     *\n     */\n    startMobileMenu: function startMobileMenu() {\n\n        this.manageFade();\n    },\n\n    manageFade: function manageFade() {\n\n        $('.navmenu').on('show.bs.offcanvas', function () {\n            $('.canvas').addClass('sliding');\n        }).on('shown.bs.offcanvas', function () {}).on('hide.bs.offcanvas', function () {\n            $('.canvas').removeClass('sliding');\n        }).on('hidden.bs.offcanvas', function () {});\n    }\n\n};\n\nmodule.exports = MobileMenu;\n","\"use strict\";\n\n/**\n * Navigation Class\n */\nvar Navigation = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    if ($('#js-navigation-disabled').length == 0) {\n\n      this.storeNavigation();\n    }\n  },\n\n  /**\n   * We send the navigation to the back-end\n   */\n  storeNavigation: function storeNavigation() {\n\n    var NavigationModel = require(\"javascripts/models/navigation_model\");\n    NavigationModel.setLocation(window.location.href, function (res) {\n      // Nothing yet\n    });\n  }\n\n};\n\nmodule.exports = Navigation;\n","\"use strict\";\n\nvar Translation = require('javascripts/lib/translation');\nvar Product = require(\"javascripts/models/product\");\nvar Messages = require(\"javascripts/lib/messages\");\n\n/**\n * ProductFavorite Class\n */\nvar ProductFavorite = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupHeartClick();\n  },\n\n  /**\n   * manage the heart click events\n   * @return {void}\n   */\n  setupHeartClick: function setupHeartClick() {\n    this.heartElement().on('click', $.proxy(this.onHeartClick, this));\n  },\n\n  /**\n   * Main button for the favorite system\n   * @return {element}\n   */\n  heartElement: function heartElement() {\n    return $('.js-heart-click');\n  },\n\n  /**\n   * returns the productId of the product on the page@\n   * @return {element}\n   */\n  productId: function productId() {\n    return this.heartElement().attr('data-product-id');\n  },\n\n  /**\n   * Is the product in favorite or not ?\n   * @return {boolean}\n   */\n  isFavorite: function isFavorite() {\n    return this.heartElement().attr('data-favorite') == '1';\n  },\n\n  /**\n   * When the heart is clicked\n   */\n  onHeartClick: function onHeartClick(e) {\n\n    e.preventDefault();\n\n    if (this.isFavorite()) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  },\n\n  /**\n   * We unlike from the model and display the unlike\n   * @return {void}\n   */\n  removeFavorite: function removeFavorite() {\n\n    this.displayUnlike();\n    this.modelUnlike($.proxy(this.updateTotalFavorites, this));\n  },\n\n  /**\n   * We like from the model and display the like (heart)\n   * @return {void}\n   */\n  addFavorite: function addFavorite() {\n\n    this.displayLike();\n    this.modelLike($.proxy(this.updateTotalFavorites, this));\n  },\n\n  /**\n   * Update the favorites count on the display\n   * @param  {Function} res\n   * @return {void}\n   */\n  updateTotalFavorites: function updateTotalFavorites(res) {\n    var favoritesCount = res.favorites.length;\n    $('#total-likes').html(favoritesCount);\n  },\n\n  /**\n   * Like the model and manage errors on the display\n   * @param  {Function} callback\n   * @return {Function}\n   */\n  modelLike: function modelLike(callback) {\n    Product.like(this.productId(), this.handleModelResponse(callback));\n  },\n\n  /**\n   * Unlike the model and manage errors on the display\n   * @param  {Function} callback\n   * @return {Function}\n   */\n  modelUnlike: function modelUnlike(callback) {\n    Product.unlike(this.productId(), this.handleModelResponse(callback));\n  },\n\n  /**\n   * Handle the model response if he likes or unlike\n   * @param  {Function} callback\n   * @return {Function}\n   */\n  handleModelResponse: function handleModelResponse(callback) {\n    return function (response) {\n\n      if (res.success === false) {\n        Messages.makeError(res.error);\n      } else {\n        callback(response);\n      }\n    };\n  },\n\n  /**\n   * Change the elements so they look unliked\n   * @return {void}\n   */\n  displayUnlike: function displayUnlike() {\n    this.heartElement().find('i').addClass('+grey').removeClass('+pink');\n    this.heartElement().attr('data-favorite', '0');\n    this.heartElement().find('span').html(Translation.find('add', 'favorites'));\n  },\n\n  /**\n   * Change the elements so they look liked\n   * @return {void}\n   */\n  displayLike: function displayLike(el) {\n    this.heartElement().find('i').addClass('+pink').removeClass('+grey');\n    this.heartElement().attr('data-favorite', '1');\n    this.heartElement().find('span').html(Translation.find('remove', 'favorites'));\n  }\n\n};\n\nmodule.exports = ProductFavorite;\n","\"use strict\";\n\nvar Translation = require('javascripts/lib/translation');\n\n/**\n * ProductForm Class\n */\nvar ProductForm = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.manageShopkeeperProductForm();\n  },\n\n  manageShopkeeperProductForm: function manageShopkeeperProductForm() {\n\n    if ($(\"#js-product-form\").length > 0) {\n\n      var productForm = $(\"#js-product-form\").data();\n      var productId = productForm.productId;\n\n      $('select.duty-categories').multiselect({\n        nonSelectedText: Translation.find('non_selected_text', 'multiselect'),\n        nSelectedText: Translation.find('n_selected_text', 'multiselect'),\n        enableFiltering: true,\n        enableCaseInsensitiveFiltering: true,\n        maxHeight: 400\n      }).multiselect();\n\n      // TODO : it doesn't seems it's used in the system anymore\n      // $('#edit_product_submit_btn').click( function() {\n      //\n      //       $('input.dynamical-required').each(\n      //         function () {\n      //           if ( $(this).val().length == 0 ) {\n      //             console.log('yes');\n      //             $(this).addClass('invalidBorderClass');\n      //           } else {\n      //             $(this).removeClass('invalidBorderClass');\n      //           }\n      //         }\n      //       );\n      //\n      //       if ( $('.invalidBorderClass').length > 0 ) {\n      //         return false;\n      //       }\n      //\n      //     });\n      //\n      //     $('a[rel=popover]').popover();\n      //\n      //     var panel_cnt = $(\"#variants_panel_\"+productId).children('.panel-body').find('.panel').length\n      //     if (panel_cnt == 0) $(\"#a_add_variant_\"+productId).click();\n    }\n  }\n\n};\n\nmodule.exports = ProductForm;\n","\"use strict\";\n\n/**\n * ProductsList Class\n */\nvar ProductsList = { // CURRENTLY NOT IN USED IN THE SYSTEM\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.manageProductsWall();\n  },\n\n  manageProductsWall: function manageProductsWall() {}\n\n};\n\nmodule.exports = ProductsList;\n","'use strict';\n\n/**\n * QrCode Class\n */\nvar QrCode = {\n\n  initialized: false,\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    $(window).on('resize', _.debounce($.proxy(this.onResize, this), 300)).trigger('resize');\n  },\n\n  onResize: function onResize(e) {\n\n    if (this.isMobile() && this.initialized) {\n      this.destroy();\n      return;\n    }\n\n    if (this.isMobile()) {\n      return;\n    }\n\n    if (!this.initialized) {\n      this.setupWechat();\n      this.setupWeibo();\n      this.initialized = true;\n      return;\n    }\n  },\n\n  isMobile: function isMobile() {\n    /**\n     * NOTE : this 994 matches with the breakpoint of `=breakpoint` in SASS\n     * Please be careful and change the one in the SASS as well\n     */\n    return $(window).width() <= 994;\n  },\n\n  destroy: function destroy() {\n    $('#weibo-qr-code-trigger').off('mouseover').off('mouseout');\n    $('#wechat-qr-code-trigger').off('mouseover').off('mouseout');\n    $('#wechat-qr-code').addClass('hidden');\n    $('#weibo-qr-code').addClass('hidden');\n    QrCode.initialized = false;\n  },\n\n  setupWechat: function setupWechat() {\n\n    $('#wechat-qr-code-trigger').on('mouseover', function (e) {\n      $('#wechat-qr-code').removeClass('hidden');\n    });\n\n    $('#wechat-qr-code-trigger').on('mouseout', function (e) {\n      $('#wechat-qr-code').addClass('hidden');\n    });\n\n    $('#wechat-qr-code-trigger').on('click', function (e) {\n      if ($('#wechat-qr-code').hasClass('hidden')) {\n        $('#wechat-qr-code').removeClass('hidden');\n      } else {\n        $('#wechat-qr-code').addClass('hidden');\n      }\n    });\n  },\n\n  setupWeibo: function setupWeibo() {\n\n    $('#weibo-qr-code-trigger').on('mouseover', function (e) {\n      $('#weibo-qr-code').removeClass('hidden');\n    });\n\n    $('#weibo-qr-code-trigger').on('mouseout', function (e) {\n      $('#weibo-qr-code').addClass('hidden');\n    });\n\n    $('#weibo-qr-code-trigger').on('click', function (e) {\n      if ($('#weibo-qr-code').hasClass('hidden')) {\n        $('#weibo-qr-code').removeClass('hidden');\n      } else {\n        $('#weibo-qr-code').addClass('hidden');\n      }\n    });\n  }\n\n};\n\nmodule.exports = QrCode;\n","'use strict';\n\n/**\n * RefreshTime Class\n */\nvar RefreshTime = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.refreshTime('#utc-time', 'UTC');\n    this.refreshTime('#china-time', 'Asia/Shanghai');\n    this.refreshTime('#germany-time', 'Europe/Berlin');\n  },\n\n  /**\n   * Change the current time html\n   * @param  {#} selector\n   * @return void\n   */\n  displayTime: function displayTime(selector, time_zone) {\n    var time = moment().tz(time_zone).format('HH:mm:ss');\n    $(selector).html(time);\n  },\n\n  /**\n   * Activate the time refresh for specific selector\n   * @param  {#} selector\n   * @return void\n   */\n  refreshTime: function refreshTime(selector, time_zone) {\n    var remote_time = $(selector).html();\n    if (typeof remote_time != \"undefined\") {\n      setInterval(function () {\n        RefreshTime.displayTime(selector, time_zone);\n      }, 1000);\n    }\n  }\n\n};\n\nmodule.exports = RefreshTime;\n","'use strict';\n\n/**\n * Responsive Class\n */\nvar Responsive = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.manageCategoriesMenu();\n  },\n\n  manageCategoriesMenu: function manageCategoriesMenu() {\n\n    if ($('.mobile-category-menu').length > 0) {\n\n      var Translation = require('javascripts/lib/translation');\n\n      $('#categories-menu').slicknav({\n\n        \"prependTo\": \".mobile-category-menu\", //\".container-fluid\"\n        \"label\": Translation.find('menu', 'button'),\n        \"closeOnClick\": true\n\n      });\n\n      // We hook the slicknav menu with some HTML content\n      // It will occur after the menu is ready.\n      // To stay clean it takes an invisible element within the HTML\n      var left_side_content = $('#categories-menu-left-side').html();\n      $('.slicknav_menu').prepend(left_side_content);\n    }\n  }\n\n};\n\nmodule.exports = Responsive;\n","'use strict';\n\n/**\n * Search Class\n */\nvar Search = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.categoryFilter();\n    this.brandFilter();\n    this.searchInput();\n    this.statusFilter();\n  },\n\n  /**\n   * We make the search behavior\n   */\n  searchInput: function searchInput() {\n\n    $('.js-search-button i').on('click', function (e) {\n      e.preventDefault(); // prevent go back to the header\n      Search.showSearchForm();\n      $('.js-search-input').focus();\n    });\n\n    $('.js-search-input').on('focusout', function (e) {\n      Search.hideSearchForm();\n    });\n  },\n\n  showSearchForm: function showSearchForm() {\n    $('.js-search-button').addClass('+hidden');\n    $('.js-search-form').removeClass('+hidden');\n  },\n\n  hideSearchForm: function hideSearchForm() {\n    $('.js-search-button').removeClass('+hidden');\n    $('.js-search-form').addClass('+hidden');\n  },\n\n  /**\n   * We make the brand filter auto-trigger\n   */\n  brandFilter: function brandFilter() {\n\n    $('select.js-package-set-brand-filter').on('change', function (e) {\n\n      var brand_id = $(this).val(); // current selected value\n      var option = $(this).find(\"option:selected\"); // let's get inside the option itself\n      var href = option.data(\"href\"); // get the href if it exists\n\n      if (typeof href !== \"undefined\") {\n\n        window.location.href = location.protocol + '//' + location.host + href;\n        // document.location = location.host + href;\n      } else {\n        // we will refresh the current page the category id\n        var UrlProcess = require('javascripts/lib/url_process');\n        UrlProcess.insertParam('brand_id', brand_id);\n      }\n    });\n  },\n\n  /**\n   * We make the category filter auto-trigger\n   */\n  categoryFilter: function categoryFilter() {\n\n    $('select.js-package-set-category-filter').on('change', function (e) {\n\n      var category_id = $(this).val(); // current selected value\n      var option = $(this).find(\"option:selected\"); // let's get inside the option itself\n      var href = option.data(\"href\"); // get the href if it exists\n\n      if (typeof href !== \"undefined\") {\n\n        window.location.href = location.protocol + '//' + location.host + href;\n        // document.location = location.host + href;\n      } else {\n        // we will refresh the current page the category id\n        var UrlProcess = require('javascripts/lib/url_process');\n        UrlProcess.insertParam('category_id', category_id);\n      }\n    });\n  },\n\n  statusFilter: function statusFilter() {\n    $('.js-order-status-filter').on('change', function (e) {\n\n      var status = $(this).val();\n\n      var UrlProcess = require('javascripts/lib/url_process');\n      UrlProcess.insertParam('status', status);\n    });\n  }\n\n};\n\nmodule.exports = Search;\n","'use strict';\n\n/**\n * SkuForm Class\n * TODO : this classe should be moved over to the sku area only\n * it's not a starter or anything like that, spreading prop changes\n * on the global system is not safe.\n */\nvar SkuForm = {\n\n  elements: {\n    form: '#sku_form',\n    checkbox: '#sku_unlimited',\n    input: '#sku_quantity'\n  },\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.setupLimitSystem();\n  },\n\n  /**\n   * If we are on the correct page containing `js-sku-form`\n   * We setup the limit display and activate the checkbox click listener\n   * @return {void}\n   */\n  setupLimitSystem: function setupLimitSystem() {\n\n    if ($(\"#js-sku-form\").length == 0) {\n      return;\n    }\n\n    SkuForm.resetLimitDisplay();\n\n    $(SkuForm.elements.checkbox).on('click', function () {\n      SkuForm.resetLimitDisplay();\n    });\n  },\n\n  /**\n   * Reset the limit display\n   * It will show or hide the input\n   * @return {void}\n   */\n  resetLimitDisplay: function resetLimitDisplay() {\n    if ($(SkuForm.elements.checkbox).is(\":checked\")) {\n      SkuForm.switchOffLimit();\n      return;\n    }\n    SkuForm.switchOnLimit();\n  },\n\n  /**\n   * We disable the limit input and make it unlimited\n   * @return {void}\n   */\n  switchOffLimit: function switchOffLimit() {\n    $(SkuForm.elements.form).find(SkuForm.elements.input).val('0').prop('disabled', 'true').parent().hide();\n  },\n\n  /**\n   * We activate the limit input and make it limited\n   * @return {void}\n   */\n  switchOnLimit: function switchOnLimit() {\n    $(SkuForm.elements.form).find(SkuForm.elements.input).removeAttr('disabled').parent().show();\n  }\n\n};\n\nmodule.exports = SkuForm;\n","\"use strict\";\n\n/**\n * SweetAlert Class\n */\nvar SweetAlert = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.startAlert();\n  },\n\n  /**\n   *\n   */\n  startAlert: function startAlert() {\n    /*\n          $.rails.allowAction = function(link){\n      if (link.data(\"confirm\") == undefined){\n        console.log(\"fuck it\");\n        return true;\n      }\n      $.rails.showConfirmationDialog(link);\n      return false;\n    */\n    //}\n\n    /* NOT COMPATIBLE WITH RAILS SYSTEM ...\n          $('.js-alert').click(function(e) {\n    \n            e.preventDefault();\n            self = this;\n    \n            swal({\n              title: $(self).data('title') || \"Are you sure ?\",\n              text: $(self).data('text') || \"This action cannot be undone.\",\n              type: \"warning\",\n              showCancelButton: true,\n              confirmButtonColor: \"#DD6B55\",\n              confirmButtonText: \"Yes, delete it!\",\n              closeOnConfirm: false\n            }, function(){\n              swal({\n                title: \"Processing!\",\n                text: \"Your request is being processed ...\",\n                type: 'success',\n                showConfirmButton: false\n              });\n              window.location.href = $(self).attr('href');\n            });\n    \n          })\n    */\n  }\n\n};\n\nmodule.exports = SweetAlert;\n","'use strict';\n\n/**\n * TableClicker Class\n */\nvar TableClicker = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.handleTableClicker();\n  },\n\n  handleTableClicker: function handleTableClicker() {\n    $('tr').on('click', TableClicker.onClickTr);\n  },\n\n  onClickTr: function onClickTr(e) {\n    var link = $(e.currentTarget).data('href');\n    if (typeof link !== \"undefined\") {\n      window.location = link;\n    }\n  }\n\n};\n\nmodule.exports = TableClicker;\n","'use strict';\n\n/**\n * Tooltipster Class\n */\nvar Tooltipster = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.activateTooltipster();\n  },\n\n  activateTooltipster: function activateTooltipster() {\n\n    $('.tooltipster-click').tooltipster({\n      animation: 'fade',\n      delay: 200,\n      trigger: 'click',\n      maxWidth: 350,\n      timer: 1000\n    });\n\n    $('.tooltipster').tooltipster({\n      'maxWidth': 350\n    });\n  }\n\n};\n\nmodule.exports = Tooltipster;\n","'use strict';\n\n/**\n * TotalProducts Class\n */\nvar TotalProducts = {\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    this.refreshTotalProducts();\n  },\n\n  refreshTotalProducts: function refreshTotalProducts() {\n\n    var refreshTotalProducts = require('../services/refresh_total_products');\n    refreshTotalProducts.resolveHiding($('.js-total-products').html());\n    //refreshTotalProducts.perform();\n    // <-- NOTE : this will make a condition race\n    // we found no solution but to just show manually and render from server side to avoid it.\n  }\n};\n\nmodule.exports = TotalProducts;\n","'use strict';\n\nvar _vueClipboard = require('vue-clipboard2');\n\nvar _vueClipboard2 = _interopRequireDefault(_vueClipboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * WeixinStarter Class\n * BIG NOTE : this system is the first we use with VueJS\n * it needs a lot of refactoring as it mixes up the Weixin system, with a clipboard system, with a Sharing system\n * which should be split into differente files.\n */\nvar WeixinStarter = {\n\n  weixinVue: null,\n  setupWeixinVue: function setupWeixinVue() {\n\n    this.vueTooltipDirective();\n\n    Vue.use(_vueClipboard2.default);\n\n    this.weixinVue = new Vue({\n      el: '#weixin-vue',\n      data: {\n        shared: false,\n        loaded: false,\n        copied: null\n      },\n      watch: {\n        shared: function shared(_shared) {\n          if (_shared === true) {\n            window.location.href = WeixinStarter.shareLinkData().back;\n          }\n        },\n        loaded: function loaded(_loaded) {\n          if (_loaded === true) {}\n        }\n      },\n      methods: {\n        copySuccess: function copySuccess() {\n          this.copied = true;\n        },\n        copyFail: function copyFail() {\n          this.copied = false;\n        }\n      }\n    });\n  },\n\n  vueTooltipDirective: function vueTooltipDirective() {\n    Vue.directive('tooltip', {\n      bind: function bind(el) {\n        WeixinStarter.clickTooltip(el);\n      }\n    });\n  },\n\n  clickTooltip: function clickTooltip(el) {\n    $(el).on('click', function (e) {\n      e.preventDefault();\n    });\n    $(el).tooltipster({\n      animation: 'fade',\n      delay: 200,\n      trigger: 'click',\n      maxWidth: 350,\n      timer: 1000\n    });\n  },\n\n  /**\n   * Initializer\n   */\n  init: function init() {\n\n    if ($('#weixin-vue').length > 0) {\n      this.setupWeixinVue();\n    }\n\n    if (typeof this.data() !== \"undefined\") {\n      this.config();\n      this.onReady();\n      this.onError();\n    }\n  },\n\n  data: function data() {\n    return $('#weixin').data();\n  },\n\n  shareLinkData: function shareLinkData() {\n    return $('#weixin-share-link').data();\n  },\n\n  config: function config() {\n    wx.config({\n      debug: this.data().debug,\n      appId: this.data().appId,\n      timestamp: this.data().timestamp,\n      nonceStr: this.data().nonceStr,\n      signature: this.data().signature,\n      jsApiList: this.data().jsApiList\n    });\n  },\n\n  onReady: function onReady() {\n    wx.ready(function () {\n      WeixinStarter.weixinVue.loaded = true;\n      // WeixinStarter.checkJsApi();\n      WeixinStarter.onMenuShareTimeline();\n      WeixinStarter.onMenuShareAppMessage();\n    });\n  },\n\n  onError: function onError() {\n    wx.error(function (res) {\n      console.log('Weixin received an error : ' + res.errMsg);\n    });\n  },\n\n  checkJsApi: function checkJsApi() {\n    wx.checkJsApi({\n      jsApiList: this.data().jsApiList,\n      success: function success(res) {\n        console.log('Check Api : ' + res.checkResult);\n      }\n    });\n  },\n\n  onMenuShareTimeline: function onMenuShareTimeline() {\n    if (this.shareLinkAvailable()) {\n      wx.onMenuShareTimeline(WeixinStarter.shareLinkParams());\n    }\n  },\n\n  onMenuShareAppMessage: function onMenuShareAppMessage() {\n    if (this.shareLinkAvailable()) {\n      wx.onMenuShareAppMessage(WeixinStarter.shareLinkParams());\n    }\n  },\n\n  shareLinkAvailable: function shareLinkAvailable() {\n    return typeof this.shareLinkData() !== \"undefined\";\n  },\n\n  shareLinkParams: function shareLinkParams() {\n    return {\n      desc: WeixinStarter.shareLinkData().desc,\n      imgUrl: WeixinStarter.shareLinkData().imgUrl,\n      link: WeixinStarter.shareLinkData().link,\n      title: WeixinStarter.shareLinkData().title,\n\n      success: function success() {\n        WeixinStarter.weixinVue.shared = true;\n      },\n      cancel: function cancel() {}\n    };\n  }\n\n};\n\nmodule.exports = WeixinStarter;\n"]}