<%= form_for @user, :data => {:toggle => 'validator'}, :url => shopkeeper_account_path, :method => :patch do |f| %>

<div class="+spacer"></div>
<div class="row">

  <div class="col-md-5 +white-box">

    <%= fields_for :shop, @user.shop do |shop_fields| %>

      <div class="form-group">
        <%= shop_fields.label :merchant_id, "Merchant ID", :class => 'control-label' %>
        <%= shop_fields.text_field :merchant_id, :class => 'form-control', :readonly => true %>
      </div>
    <% end %>

    <div class="form-group">
      <div class="pull-right required-info">
        <strong>
          <%= I18n.t(:required_field_info, scope: :edit_shop).html_safe %>
        </strong>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :email, I18n.t(:email, scope: :edit_account) %>
      <%= f.text_field :email, :class => 'form-control', :type => 'email' %>
    </div>

    <%= render partial: "shared/user/partials/edit_password", :locals => { :f => f } %>

  </div>

  <%= content_tag(:div, nil, :id => "js-show-datepicker", :data => { :language => I18n.locale }) %>

  <div class="col-md-5 col-md-push-1 +white-box">
    <%= render partial: "shared/user/partials/user_details", :locals => { :f => f } %>
  </div>

</div>

<div class="+small-spacer"></div>
<div class="row">
  <div class="col-md-11 +centered +white-box">
      <%= f.button I18n.t(:save, scope: :edit_account), :type => 'submit', :class => 'btn btn-primary' %>
  </div>
</div>

<% end %>
