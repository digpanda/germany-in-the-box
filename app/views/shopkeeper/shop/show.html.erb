<%= translation_js(:max_exceeded_message, :image_upload) %>
<%= translation_js(:ext_error_message, :image_upload) %>

<%= form_for [:shopkeeper, @shop], :html => {:data => {:toggle => 'validator'}, role: 'form'} do |f| %>
  <div class="panel-group">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="row">
          <div class="col-md-4">
            <label>
              Logo oder Portr√§t
            </label>
          </div>
          <div class="col-md-8" title="<%= I18n.t(:banner_info, scope: :edit_shop) %>">
            <i class="fa fa-info-circle" title="<%= I18n.t(:banner_info, scope: :edit_shop) %>"></i>
            <label>
              Banner oder Cover
            </label>
          </div>
        </div>
        <div class="row text-center">
          <div class="col-md-4">
            <%= image_tag @shop.decorate.image_url(:logo, :thumb), :class => 'logo-img', :id => "logo_#{@shop.id}" %>
          </div>
          <div class="col-md-8">
            <%= image_tag @shop.decorate.image_url(:banner, :thumb), :style => 'max-width:auto;max-height:90px', :id => "banner_#{@shop.id}" %>
          </div>
        </div>
        <div class="row text-center">
          <div class="col-md-4">
            <div class="fileUpload btn btn-default">
              <span>
                <i class="fa fa-cloud-upload"></i>
                <%= I18n.t(:upload, scope: :image_upload) %>
              </span>
              <%= f.file_field :logo, :accept => "image/png, image/jpeg, image/jpg", :class => 'img-file-upload upload', :img_id => "#logo_#{@shop.id}" %>
            </div>
            <%= link_to I18n.t(:remove), destroy_image_shopkeeper_shop_path(@shop, image_field: :logo), :method => :delete, :class => 'btn btn-default' %>
          </div>
          <div class="col-md-8">
            <div class="fileUpload btn btn-default">
              <span>
                <i class="fa fa-cloud-upload"></i>
                <%= I18n.t(:upload, scope: :image_upload) %>
              </span>
              <%= f.file_field :banner, :accept => "image/png, image/jpeg, image/jpg", :class => 'img-file-upload upload', :img_id => "#banner_#{@shop.id}" %>
            </div>
            <%= link_to I18n.t(:remove), destroy_image_shopkeeper_shop_path(@shop, image_field: :banner), :method => :delete, :class => 'btn btn-default' %>
          </div>
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-body">

        <div class="form-group">
          <div class="pull-right required-info">
            <strong>
              <%= I18n.t(:required_field_info, scope: :edit_shop).html_safe %>
            </strong>
          </div>
          <br>
        </div>

        <div class="row">
          <div class="form-group">
            <div class="col-md-4">
              <strong>Shop URL</strong>
            </div>
            <div class="col-md-8">
              <%= text_field_tag :shop_url, guest_shop_url(@shop), :class => 'form-control', :disabled => "disabled" %>
            </div>
          </div>
        </div>

        <!-- TODO : this is to move (obviously) later on) -->
        <% if current_user.decorate.admin? %>
            <br/>
            <div class="row">
              <div class="form-group">
                <div class="col-md-4">
                  <%= f.label :bg_merchant_id, I18n.t(:bg_merchant_id, scope: :edit_shop), :class => 'required' %>
                </div>
                <div class="col-md-8">
                  <%= f.text_field :bg_merchant_id, :class => 'form-control', :required => true, scope: :validation %>
                </div>
              </div>
            </div>
        <% end %>
      </div>
    </div>
    <div class="panel panel-info">
      <div class="panel-heading" title="<%= I18n.t(:shop_seal_info, scope: :edit_shop) %>">
        <div class="text-center">
          <i class="fa fa-info-circle" title="<%= I18n.t(:shop_seal_info, scope: :edit_shop) %>"></i>
          <label>
            <%= I18n.t(:shop_seal, scope: :edit_shop) %>
          </label>
        </div>
      </div>
      <div class="panel-body">
        <%= render partial: "shopkeeper/shop/show/edit_images", :locals => {form: f, shop: @shop, image_fields: [:seal0, :seal1, :seal2, :seal3]} %>
      </div>
    </div>
    <div class="panel panel-info">
      <div class="panel-heading" title="<%= I18n.t(:product_seal_info, scope: :edit_product) %>">
        <div class="text-center">
          <i class="fa fa-info-circle" title="<%= I18n.t(:product_seal_info, scope: :edit_product) %>"></i>
          <label>
            <%= I18n.t(:product_seal, scope: :edit_product) %>
          </label>
        </div>
      </div>
      <div class="panel-body">
        <%= render partial: "shopkeeper/shop/show/edit_images", :locals => {form: f, shop: @shop, image_fields: [:seal4, :seal5, :seal6, :seal7]} %>
      </div>
    </div>
  </div>


  <div class="panel panel-info">
    <div class="panel-heading" title="Texts">
      <div class="text-center">
        <i class="fa fa-info-circle" title="Texts"></i>
        <label>
         Texts
        </label>
      </div>
    </div>
    <div class="panel-body">

  <div class="form-group">
    <div class="row">
      <div class="col-md-4" title="<%= I18n.t(:desc_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>">
        <i class="fa fa-info-circle" title="<%= I18n.t(:desc_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>"></i>
        <label class="required translation">
          <%= I18n.t(:desc, scope: :edit_shop, locale: locale) %>
        </label>
      </div>
      <div class="col-md-8">
        <%= f.text_area :desc, :value => @shop.desc_translations[locale], :class => 'form-control', rows: 4, :required => true, :maxLength => Rails.configuration.max_medium_text_length %>
        <div class="help-block with-errors"></div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <div class="row">
      <div class="col-md-4" locale="<%= locale %>" title="<%= I18n.t(:philosophy_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length) %>">
        <i class="fa fa-info-circle" title="<%= I18n.t(:philosophy_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length, locale: locale) %>"></i>
        <label class="required translation">
          <%= I18n.t(:philosophy, scope: :edit_shop, locale: locale) %>
        </label>
      </div>
      <div class="col-md-8">
        <%= f.text_area :philosophy, :value => @shop.philosophy_translations[locale], :class => 'form-control', rows: 4, :required => true, :maxLength => Rails.configuration.max_long_text_length %>
        <div class="help-block with-errors"></div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <div class="row">
      <div class="col-md-4" title="<%= I18n.t(:stories_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length, locale: locale) %>">
        <i class="fa fa-info-circle" title="<%= I18n.t(:stories_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length, locale: locale) %>"></i>
        <label class="translation">
          <%= I18n.t(:stories, scope: :edit_shop, locale: locale) %>
        </label>
      </div>
      <div class="col-md-8">
        <%= f.text_area :stories, :value => @shop.stories_translations[locale], :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_long_text_length %>
        <div class="help-block with-errors"></div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <div class="row">
      <div class="col-md-4" title="<%= I18n.t(:uniqueness_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>">
        <i class="fa fa-info-circle" title="<%= I18n.t(:uniqueness_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>"></i>
        <label class="translation">
          <%= I18n.t(:uniqueness, scope: :edit_shop, locale: locale) %>
        </label>
      </div>
      <div class="col-md-8">
        <%= f.text_area :uniqueness, :value => @shop.uniqueness_translations[locale], :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_medium_text_length %>
      </div>
    </div>
  </div>
  <div class="form-group">
    <div class="row">
      <div class="col-md-4" title="<%= I18n.t(:german_essence_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>">
        <i class="fa fa-info-circle" title="<%= I18n.t(:german_essence_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length, locale: locale) %>"></i>
        <label class="translation">
          <%= I18n.t(:german_essence, scope: :edit_shop, locale: locale) %>
        </label>
      </div>
      <div class="col-md-8">
        <%= f.text_area :german_essence, :value => @shop.german_essence_translations[locale], :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_medium_text_length %>
        <div class="help-block with-errors"></div>
      </div>
    </div>
  </div>

</div>
</div>






<div class="panel panel-info">
  <div class="panel-heading text-center">
    <h4>
      Public informations
    </h4>
  </div>
  <div class="panel-body">


    <div class="row">
      <div class="col-md-6">
      <div class="form-group">
          <%= f.label :shopname, I18n.t(:shopname, scope: :edit_shop), :class => 'required' %>
          <%= f.text_field :shopname, :class => 'form-control', :required => true, :maxLength => Rails.configuration.max_short_text_length %>
      </div>
      </div>
      <div class="col-md-6">
      <div class="form-group">
      <%= I18n.t(:website, scope: :edit_shop) %>
      <%= f.text_field :website, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length, :placeholder => 'www.mydomain.com' %>
      </div>
      </div>
    </div>

    <div class="form-group">
      <div class="pull-right required-info">
        <strong>
          <%= I18n.t(:required_field_info, scope: :edit_shop).html_safe %>
        </strong>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :fname, I18n.t(:contact_fname, scope: :edit_shop_application), :class => 'required' %>
          <%= f.text_field :fname, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :lname, I18n.t(:contact_lname, scope: :edit_shop_application), :class => 'required' %>
          <%= f.text_field :lname, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true %>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :function, I18n.t(:contact_function, scope: :edit_shop_application) %>
          <%= f.text_field :function, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :mail, I18n.t(:contact_email, scope: :edit_shop_application), :class => 'required' %>
          <%= f.email_field :mail, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length, :placeholder => 'example@google.com', :required => true %>
          <div class="help-block with-errors"></div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :tel, I18n.t(:contact_tel, scope: :edit_shop_application), :class => 'required' %>
          <%= f.text_field :tel, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true, :placeholder => '+49(89)123456' %>
          <div class="help-block with-errors"></div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :mobile, I18n.t(:contact_mobile, scope: :edit_shop_application) %>
          <%= f.text_field :mobile, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :placeholder => '+49(151)12345678' %>
          <div class="help-block with-errors"></div>
        </div>
      </div>
    </div>
  </div>
</div>








  <%= f.button I18n.t(:save, scope: :edit_shop), :class => 'btn btn-primary' %>
<% end %>
<div class="+small-spacer"></div>
