<% if coupons.size > 0 %>
<table class="white-table">
  <thead>
    <th>
      Code
    </th>
    <th>
      Description
    </th>
    <th>
      Discount
    </th>
    <th>
      Unit
    </th>
    <th>
      Minimum Order
    </th>
    <th>
      Order
    </th>
    <th>
      User
    </th>
    <th>
      Created At
    </th>
    <th>
      Updated At
    </th>
    <th>
      Action
    </th>
  </thead>
  <tbody>
    <% coupons.each do |coupon| %>
    <tr>
      <td>
        <%= editable_field(coupon, admin_coupon_path(coupon), :code, :text_field) %>
      </td>
      <td>
        <%= editable_field(coupon, admin_coupon_path(coupon), :desc, :text_field) %>
      </td>
      <td>
        <%= editable_field(coupon, admin_coupon_path(coupon), :discount, :text_field) %>
      </td>
      <td>
        <%= coupon.unit %>
      </td>
      <td>
        <%= editable_field(coupon, admin_coupon_path(coupon), :minimum_order, :text_field) %>
      </td>
      <td>
        <% if coupon.order %>
          <a href="<%= admin_order_path(coupon.order) %>">
          <%= coupon.order.email %>
          </a>
        <% end %>
      </td>
      <td>
        <% if coupon.user %>
          <a href="<%= admin_user_path(coupon.user) %>">
          <%= coupon.user.email %>
          </a>
        <% end %>
      </td>
      <td>
        <%= coupon.c_at %>
      </td>
      <td>
        <%= coupon.u_at %>
      </td>
      <td>
        <%= link_to '', admin_coupon_path(coupon), :method => :delete, data: { confirm: "Are you sure to remove this coupon ?" }, :class => 'tooltipster fa fa-times buttons buttons__delete', :title => "Delete this coupon" %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<% else %>
<div class="+white-box +centered">
  <h4>
    No coupon found
  </h4>
</div>
<% end %>
