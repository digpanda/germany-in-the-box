<% if @orders.size > 0 %>
  <table class="white-table">
    <thead>
      <tr>
        <th>
          <%= I18n.t(:id, scope: :edit_order) %>
        </th>
        <th>
          <%= I18n.t(:status, scope: :edit_order) %>
        </th>
        <th>
          <%= I18n.t(:total_price_with_extra_costs, scope: :edit_order) %>
        </th>
        <th>
          <%= I18n.t(:link_tracking, scope: :edit_order) %>
        </th>
        <th>
          <%= I18n.t(:updated_at, scope: :edit_order) %>
        </th>
        <th>
          <%= I18n.t(:operations, scope: :edit_order) %>
        </th>
      </tr>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
        <tr>
          <td class="+desktop">
            <% if order.decorate.total_price_with_extra_costs > 0 %>
              <%= link_to order.id, customer_order_path(order) %>
            <% else %>
              <%= order.id %>
            <% end %>
          </td>
          <td>
            <%= I18n.t(order.status, scope: :edit_order) %>
          </td>
          <td>
            <% if order.bought? %>
            <%= order.end_price.in_euro.to_yuan.display %>
            <% end %>
          </td>
          <td>
            <% if order.bought? %>
              <% if order.logistic_partner == :borderguru %>
                <%= link_to I18n.t(:open, scope: :edit_order), tracking_id_customer_order_border_guru_path(order), :target => '_blank' %>
              <% elsif order.logistic_partner == :xipost %>
                <%= link_to I18n.t(:open, scope: :edit_order), Xipost.tracking_url(order), :target => '_blank' %>
              <% else %>
                Tracking unavailable.
              <% end %>
            <% end %>
          </td>
          <td>
            <%= order.u_at.localtime.strftime('%Y-%m-%d %H:%M:%S') %>
          </td>
          <td>
          <% unless order.decorate.paid? %>
              <%= link_to I18n.t(:continue, scope: :edit_order), customer_order_continue_path(order), method: :patch %> |
              <%= link_to I18n.t(:delete, scope: :edit_order), customer_order_path(order), method: :delete, data: { confirm: I18n.t(:confirm_want_delete, scope: :notice) } %>
          <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate @orders, renderer: BootstrapPagination::Rails %>
<% else %>
<div class="+white-box +centered">
  <h4>
    <%= I18n.t(:no_order, scope: :edit_order) %>
  </h4>
</div>
<% end %>
