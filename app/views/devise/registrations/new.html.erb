<%= content_tag(:div, nil, :id => "js-show-datepicker", :data => { :language => I18n.locale }) %>

<div class="row">

  <div class="col-md-4 col-md-push-4 col-md-pull-4 +white-box">

    <h3>
      <%= I18n.t(:header, scope: :sign_up_dialog) %>
    </h3>
    <h5>
      <%= I18n.t(:title, scope: :sign_up_dialog) %>
    </h5>

    <!-- form_for(resource, as: resource_name, url: registration_path(resource_name), html: {method: :put}) -->
    <%= form_for @user, url: user_registration_path(@user), :method => :post, :class => 'dialog-form', :data => {:toggle => 'validator'} do |f| %>
    <div class="form-group">
      <%= f.text_field :username, :class => 'form-control', :placeholder => I18n.t(:username, scope: :sign_up_dialog), :required => true %>
    </div>
    <div class="form-group">
      <%= f.email_field :email, :class => 'form-control', :placeholder => I18n.t(:email, scope: :sign_up_dialog), :required => true %>
    </div>
    <div class="form-group">
      <%= f.password_field :password, :class => 'form-control', :placeholder => I18n.t(:password, scope: :sign_up_dialog), :required => true, :minLength => Rails.configuration.min_password_length %>
      <div class="help-block with-errors"></div>
    </div>
    <div class="form-group">
      <%= f.password_field :password_confirmation, :class => 'form-control', :placeholder => I18n.t(:password_confirmation, scope: :sign_up_dialog), 'data-match' => '#user_password' %>
      <div class="help-block with-errors"></div>
    </div>
    <div class="form-inline">
      <div class="form-group">
        <%= f.text_field :birth, :id => "datepicker", :class => 'form-control', placeholder: I18n.t(:birthday, scope: :edit_personal), :required => true %>
      </div>
      <div class="form-group col-md-offset-1">
        <label class="radio-inline">
          <% if (params.include?(:user) && params[:user][:gender] == 'm') %>
          <%= radio_button_tag 'user[gender]', 'm', :checked => true %>
          <% else %>
          <%= radio_button_tag 'user[gender]', 'm' %>
          <% end %>
          <%= I18n.t(:'genderize.name.masculine') %>
        </label>
        <label class="radio-inline">
          <% if (params.include?(:user) && params[:user][:gender] == 'f') %>
          <%= radio_button_tag 'user[gender]', 'f', :checked => true %>
          <% else %>
          <%= radio_button_tag 'user[gender]', 'f' %>
          <% end %>
          <%= I18n.t(:'genderize.name.feminine') %>
        </label>
      </div>
    </div>
    <%= submit_tag I18n.t(:sign_up, scope: :sign_up_dialog), :class => 'btn btn-primary' %>

    <% end %>

    <br />
    <a class="simple-text" href="<%= new_user_session_path %>">
      <%= I18n.t(:already_member, scope: :sign_up_dialog) %>
    </a>

  </div>
</div>

<%= render partial: "devise/shared/alternative_login" %>
