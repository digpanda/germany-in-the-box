<div class="row col-md-12 address-popup">
  <%= form_for @address, html: {} do |f| %>
    <%= hidden_field_tag :user_id, @user.id.to_s %>

    <div class="form-group">
      <h4>
        <%= I18n.t(:new_address_title, scope: :edit_address) %>
      </h4>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col-md-6">
          <%= f.text_field :lname, :value => @user.lname, :class => 'form-control', :required => true, :placeholder => I18n.t(:lname, scope: :edit_address) %>
        </div>
        <div class="col-md-6">
          <%= f.text_field :fname, :value => @user.fname, :class => 'form-control', :required => true, :placeholder => I18n.t(:fname, scope: :edit_address) %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-md-6">
          <%= f.text_field :mobile, :value => @user.mobile, :class => 'form-control', :required => true, :pattern => I18n.t(:mobile, scope: :validation, locale: :'zh-CN'), :placeholder => '手机号' %>
        </div>
        <div class="col-md-6">
          <%= f.text_field :tel, :value => @user.tel, :class => 'form-control', :pattern => I18n.t(:tel, scope: :validation, locale: :'zh-CN'), :placeholder => '座机号' %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-md-12">
          <%= f.text_field :pid, :class => 'form-control', :required => true, :placeholder => I18n.t(:pid, scope: :edit_address), :pattern => '^(\\d{6})(19|20)(\\d{2})(1[0-2]|0[1-9])(0[1-9]|[1-2][0-9]|3[0-1])(\\d{3})(\\d|X|x)?$' %>
        </div>
      </div>
    </div>

    <div class="city-group">
      <div class="form-group">
        <%= f.select :province, options_for_select(china_city_ordered_list), {  include_blank: I18n.t(:province_blank, scope: :edit_address) }, { :autocomplete => :off, class: 'form-control city-select city-province', :required => true } %>
      </div>
      <div class="form-group">
        <%= f.select :city    , [], { include_blank: I18n.t(:city_blank, scope: :edit_address) }, { :autocomplete => :off, class: 'form-control city-select city-city', :required => true } %>
      </div>
      <div class="form-group">
        <%= f.select :district, [], { include_blank: I18n.t(:district_blank, scope: :edit_address) }, { :autocomplete => :off, class: 'form-control city-select city-district', :required => true } %>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-md-9">
          <%= f.text_field :street, :class => 'form-control', :required => true, :placeholder => I18n.t(:street, scope: :edit_address) %>
        </div>
        <div class="col-md-3">
          <%= f.text_field :number, :class => 'form-control', :required => true, :placeholder => I18n.t(:house_number, scope: :edit_address), :pattern => '\d+' %>
        </div>
      </div>
      <%= f.text_field :additional, :class => 'form-control', :placeholder => I18n.t(:additional, scope: :edit_address) %>
    </div>

    <div class="form-group">
      <%= f.text_field :zip, :class => 'form-control', :placeholder => I18n.t(:zip, scope: :edit_address), :required => true, :pattern => I18n.t(:zip, scope: :validation, locale: :'zh-CN') %>
    </div>
    <div class="form-group">
      <%= f.label :primary do %>
        <%= f.check_box :primary, {}, true, false %> <%=I18n.t(:set_primary, scope: :edit_address)%>
      <% end %>
    </div>
    <div class="form-group">
      <input class="btn btn-primary" type="submit" value="<%= I18n.t(:add_address, scope: :edit_address) %>"></input>
    </div>
  <% end %>
</div>