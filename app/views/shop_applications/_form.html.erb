<% unless params[:finished] %>
  <div class="row">
    <div class="+spacer"></div>
    <div class="col-md-8 col-md-offset-2">
      <%= form_for @shop_application, html: {'data-toggle': 'validator'} do |f| %>
        <div class="panel-group">
          <div class="panel panel-info">
            <div class="panel-heading text-center">
              <h4>
                <%= I18n.t(:shopkeeper_info, scope: :edit_shop_application) %>
              </h4>
            </div>
            <div class="panel-body">
              <div class="form-group">
                <div class="row">
                  <div class="col-md-offset-9">
                    <strong>
                      <%= I18n.t(:required_field_info, scope: :edit_shop) %>
                    </strong>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:email_info, scope: :edit_shop_application) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:email_info, scope: :edit_shop_application) %>"></i>
                    <label class="required">
                      <%= I18n.t(:email, scope: :edit_shop_application) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.email_field :email, :class => 'form-control', :required => true, 'data-remote' => "#{is_registered_shop_applications_path}", 'data-remote-error': I18n.t(:duplicated_email, scope: :edit_shop_application), :maxLength => Rails.configuration.max_tiny_text_length, :placeholder => 'example@google.com' %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3">
                    <label class="required">
                      <%= I18n.t(:name, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_field :name, :class => 'form-control', :required => true, :maxLength => Rails.configuration.max_tiny_text_length, :placeholder => I18n.t(:company_name_placeholder, scope: :edit_shop) %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:founding_year_info, scope: :edit_shop) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:founding_year_info, scope: :edit_shop) %>"></i>
                    <label class="required">
                      <%= I18n.t(:founding_year, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_field :founding_year, :class => 'form-control', :required => true, :pattern => '^(18|19|20)\d{2}$', :maxLength => 4, :placeholder => '2016' %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3">
                    <label>
                      <%= I18n.t(:register, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_field :register, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :placeholder => 'HRB 999999' %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:desc_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length ) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:desc_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length) %>"></i>
                    <label class="required">
                      <%= I18n.t(:desc, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_area :desc, :class => 'form-control', rows: 4, :required => true, :maxLength => Rails.configuration.max_medium_text_length %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:philosophy_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:philosophy_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length) %>"></i>
                    <label class="required">
                      <%= I18n.t(:philosophy, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_area :philosophy, :class => 'form-control', rows: 4, :required => true, :maxLength => Rails.configuration.max_long_text_length %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:stories_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:stories_info, scope: :edit_shop, num: Rails.configuration.max_long_text_length) %>"></i>
                    <label>
                      <%= I18n.t(:stories, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_area :stories, :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_long_text_length %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:uniqueness_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:uniqueness_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length) %>"></i>
                    <label>
                      <%= I18n.t(:uniqueness, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_area :uniqueness, :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_medium_text_length %>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3" title="<%= I18n.t(:german_essence_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length) %>">
                    <i class="fa fa-info-circle" title="<%= I18n.t(:german_essence_info, scope: :edit_shop, num: Rails.configuration.max_medium_text_length) %>"></i>
                    <label>
                      <%= I18n.t(:german_essence, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_area :german_essence, :class => 'form-control', rows: 4, :maxLength => Rails.configuration.max_medium_text_length %>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-3">
                    <label>
                      <%= I18n.t(:website, scope: :edit_shop) %>
                    </label>
                  </div>
                  <div class="col-md-9">
                    <%= f.text_field :website, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length, :placeholder => 'www.mydomain.com' %>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-info">
            <div class="panel-heading" title="<%= I18n.t(:sales_channels_info, scope: :edit_shop, num: Rails.configuration.max_num_sales_channels) %>">
              <div class="btn-toolbar" style="margin-left:22px">
                <i class="fa fa-info-circle" title="<%= I18n.t(:sales_channels_info, scope: :edit_shop, num: Rails.configuration.max_num_sales_channels) %>"></i>
                <label class="required">
                  <%= I18n.t(:sales_channels, scope: :edit_shop) %>
                </label>
                <div class="pull-right">
                  <a class="btn btn-sm" href="#" id="add_sales_channel_btn" onclick="<%= gen_add_sales_channel('shop_application', I18n.t(:sales_channel, scope: :edit_shop, locale: locale), I18n.t(:remove_sales_channel, scope: :edit_shop, locale: locale), gen_sales_channel_select_options(locale)) %>">
                    <i class="fa fa-plus-circle"></i>
                    <%= I18n.t(:add_sales_channel, scope: :edit_shop) %>
                  </a>
                </div>
              </div>
            </div>
            <div class="panel-body"></div>
          </div>
          <div class="panel panel-info">
            <div class="panel-heading text-center">
              <h4>
                <%= I18n.t(:contact_person_info, scope: :edit_shop_application) %>
              </h4>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :fname, I18n.t(:contact_fname, scope: :edit_shop_application), :class => 'required' %>
                    <%= f.text_field :fname, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true %>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :lname, I18n.t(:contact_lname, scope: :edit_shop_application), :class => 'required' %>
                    <%= f.text_field :lname, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true %>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :function, I18n.t(:contact_function, scope: :edit_shop_application) %>
                    <%= f.text_field :function, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length %>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :mail, I18n.t(:contact_email, scope: :edit_shop_application), :class => 'required' %>
                    <%= f.email_field :mail, :class => 'form-control', :maxLength => Rails.configuration.max_short_text_length, :placeholder => 'example@google.com', :required => true %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :tel, I18n.t(:contact_tel, scope: :edit_shop_application), :class => 'required' %>
                    <%= f.text_field :tel, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :required => true, :pattern => I18n.t(:tel, scope: :validation, locale: :de), :placeholder => '+49(89)123456' %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <%= f.label :mobile, I18n.t(:contact_mobile, scope: :edit_shop_application) %>
                    <%= f.text_field :mobile, :class => 'form-control', :maxLength => Rails.configuration.max_tiny_text_length, :pattern => I18n.t(:mobile, scope: :validation, locale: :de), :placeholder => '+49(151)12345678' %>
                    <div class="help-block with-errors"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% unless readonly %>
          <%= f.button "Senden", :id => 'edit_app_submit_btn', :class => 'btn btn-primary', name: :user_info_edit_part, value: :edit_shop %>
        <% end %>
        <% if readonly %>
          <%= link_to I18n.t(:back, scope: :edit_shop_application), :back, :class => 'btn btn-primary' %>
        <% end %>
      <% end %>
    </div>
  </div>
<% else %>
  <div class="gap"></div>
  <h3 class="text-center">
    <%= I18n.t(:shop_application_ok, scope: :edit_shop_application) %>
  </h3>
<% end %>

