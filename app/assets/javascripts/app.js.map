{"version":3,"sources":["app/javascripts/controllers/orders/checkout.js","app/javascripts/controllers/pages/demo.js","app/javascripts/controllers/pages/home.js","app/javascripts/controllers/pages/menu.js","app/javascripts/controllers/shops/apply_wirecard.js","app/javascripts/helpers/footer.js","app/javascripts/helpers/search.js","app/javascripts/initialize.js"],"names":[],"mappings":"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","file":"../app/assets/javascripts/app.js","sourcesContent":["/**\n * Checkout class\n */\nvar Checkout = {\n\n  /**\n   * Initializer\n   */\n   init: function() {\n\n    this.postBankDetails();\n\n  },\n\n  /**\n   * Post bank details to the `form_url`\n   */\n   postBankDetails: function() {\n\n    let bankDetails = $(\"#bank-details\").data();\n    let parsedBankDetails = Casing.objectToUnderscoreCase(bankDetails);\n\n    PostForm.send(parsedBankDetails, parsedBankDetails['form_url']);\n\n  },\n\n}\n\nmodule.exports = Checkout;","/**\n * Apply Wirecard Class\n */\nvar Demo = {\n\n  /**\n   * Initializer\n   */\n  init: function() {\n\n    $('#js-slider').lightSlider({\n      \"item\": 1,\n      \"loop\": true,\n      \"slideMargin\": 0,\n      \"pager\": false,\n      \"auto\": true,\n      \"pause\": \"3000\",\n      \"speed\": \"1000\",\n      \"adaptiveHeight\": true,\n      \"verticalHeight\": 1000,\n      \"mode\": \"fade\",\n      \"enableDrag\": false,\n      \"enableTouch\": true\n    });\n\n  },\n\n}\n\nmodule.exports = Demo;","/**\n * Apply Wirecard Class\n */\nvar Home = {\n\n  /**\n   * Initializer\n   */\n  init: function() {\n\n    $('#js-slider').lightSlider({\n      \"item\": 1,\n      \"loop\": true,\n      \"slideMargin\": 0,\n      \"pager\": false,\n      \"auto\": true,\n      \"pause\": \"3000\",\n      \"speed\": \"1000\",\n      \"adaptiveHeight\": true,\n      \"verticalHeight\": 1000,\n      \"mode\": \"fade\",\n      \"enableDrag\": false,\n      \"enableTouch\": true\n    });\n\n    $.widget( 'custom.catcomplete', $.ui.autocomplete, {\n      _create: function() {\n        this._super();\n        this.widget().menu( 'option', 'items', '> :not(.ui-autocomplete-category)' );\n      },\n      _renderMenu: function( ul, items ) {\n        var that = this,\n        search_category = '';\n        $.each( items, function( index, item ) {\n          var li;\n          if ( item.sc != search_category ) {\n            ul.append( \"<li class='ui-autocomplete-category'>\" + item.sc + '</li>' );\n            search_category = item.sc;\n          }\n          li = that._renderItemData( ul, item );\n          if ( item.sc ) {\n            li.attr( 'aria-label', item.sc + ' : ' + item.label );\n          }\n        });\n      }\n    });\n\n    $( '#products_search_keyword' ).catcomplete({\n      delay: 1000,\n      source: '/products/autocomplete_product_name',\n      select: function (a, b) {\n        $(this).val(b.item.value);\n        $('#search_products_form').submit()\n      }\n    });\n\n    $( 'select.variant-option' ).change(function () {\n      product_id = $(this).attr('product_id');\n      option_ids = [];\n\n      $('ul.product-page-meta-info [id^=\"product_' + product_id + '_variant\"]').each ( function(o) {\n        option_ids.push($(this).val())\n      });\n\n      $.ajax({\n        dataType: 'json',\n        data: { option_ids: this.value.split(',') },\n        url: '/products/' + product_id + '/get_sku_for_options',\n        success: function(json){\n          qc = $('#product_quantity_' + product_id).empty();\n\n          for (i=1; i <= parseInt(json['quantity']); ++i) {\n            qc.append('<option value=\"' + i + '\">' + i + '</option>')\n          }\n\n          $('#product_price_' + product_id).text(json['price'] + ' ' +  json['currency']);\n          $('#product_discount_' + product_id).text(json['discount'] + ' ' +  '%');\n          $('#product_saving_' + product_id).text(parseFloat(json['price']) * parseInt(json['discount'])/100  + ' ' +  json['currency']);\n          $('#product_inventory_' + product_id).text(json['quantity'])\n\n          fotorama = $('#product_quick_view_dialog_' + product_id).find('.fotorama').fotorama().data('fotorama');\n          fotorama.load([{img: json['img0_url']}, {img: json['img1_url']}, {img: json['img2_url']}, {img: json['img3_url']}])\n        }\n      });\n    });\n\n  },\n\n}\n\nmodule.exports = Home;","\n/**\n * Menu Class\n */\nvar Menu = {\n\n  /**\n   * Initializer\n   */\n  init: function() {\n\n  },\n\n}\n\nmodule.exports = Menu;","/**\n * Apply Wirecard Class\n */\nvar ApplyWirecard = {\n\n  /**\n   * Initializer\n   */\n   init: function() {\n\n    this.postShopDetails();\n\n  },\n\n  /**\n   * Post shop details to the `form_url`\n   */\n   postShopDetails: function() {\n\n    let shopDetails = $(\"#shop-details\").data();\n    let parsedShopDetails = Casing.objectToUnderscoreCase(shopDetails);\n    \n    PostForm.send(parsedShopDetails, parsedShopDetails['form_url']);\n\n  },\n\n}\n\nmodule.exports = ApplyWirecard;","/**\n * Footer Class\n */\nvar Footer = {\n\n    /**\n     * Initializer\n     */\n    init: function() {\n\n      console.log('yes');\n      this.stickyFooter();\n\n    },\n\n    /**\n     * Put the footer on the bottom of the page\n     */\n    stickyFooter: function() {\n\n      self = this;\n\n      if ($('.js-footer-stick').length > 0) {\n\n        this.processStickyFooter();\n        \n        $(window).resize(function() {\n\n          self.processStickyFooter();\n          \n        });\n\n      }\n\n    },\n\n    processStickyFooter: function() {\n\n      var docHeight, footerHeight, footerTop;\n\n      docHeight = $(window).height();\n      footerHeight = $('.js-footer-stick').height();\n      footerTop = $('.js-footer-stick').position().top + footerHeight;\n\n      if (footerTop < docHeight) {\n        $('.js-footer-stick').css('margin-top', 10 + (docHeight - footerTop) + 'px');\n      }\n\n    },\n    \n\n}\n\nmodule.exports = Footer;\n","/**\n * Search Class\n */\nvar Search = {\n\n    /**\n     * Initializer\n     */\n    init: function() {\n\n      this.searchableInput();\n\n    },\n\n    /**\n     * We make the input searchable on click\n     */\n    searchableInput: function() {\n\n      var self = this;\n\n      $(\"#js-search-click\").on(\"click\", function() {\n        self.showSearcher();\n      });\n\n      $(document).click(function() {\n        self.showClicker();\n      });\n\n      $(\"#js-search-input\").click(function(e) {\n        e.stopPropagation(); \n      });\n      \n      $(\"#js-search-click\").click(function(e) {\n        e.stopPropagation();\n      });\n\n    },\n\n    showClicker: function() {\n\n      $(\"#js-search-input\").hide();\n      $(\"#js-search-click\").show();\n\n    },\n\n    showSearcher: function() {\n\n      $(\"#js-search-click\").hide();\n      $(\"#js-search-input\").show();\n      $(\"#js-search-input #search\").focus();\n\n    }\n\n}\n\nmodule.exports = Search;","document.addEventListener('DOMContentLoaded', () => {\n\n  /**\n   * Controllers loader by Loschcode\n   * Damn simple class loader.\n   */\n  let routes = $(\"#js-routes\").data();\n  let helpers = $(\"#js-helpers\").data();\n\n  try {\n\n    for (var helper in helpers) {\n\n      let obj = require(\"javascripts/helpers/\"+helper);\n      obj.init();\n\n    }\n\n  } catch(err) {\n\n    console.log(\"Unable to initialize #js-helpers\");\n    return;\n\n  }\n  \n  try {\n\n    var obj = require(\"javascripts/controllers/\"+routes.controller+\"/\"+routes.action);\n\n  } catch(err) {\n\n    console.log(\"Unable to initialize #js-routes `\"+routes.controller+\"`.`\"+routes.action+\"`\");\n    return;\n\n  }\n\n  /**\n   * Initialization\n   */\n  obj.init();\n\n});\n"]}